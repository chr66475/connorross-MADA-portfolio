[
  {
    "objectID": "aboutme.html",
    "href": "aboutme.html",
    "title": "About me",
    "section": "",
    "text": "Hello everyone! My name is Connor Ross and this is my first year at UGA as a MPH student in the epidemiology concentration. I went to the University of South Carolina for my bachelors degree in public health and completed a year of masters work before my partner was deployed. At which time, I worked for the South Carolina Department of Health and Environmental Control in the Division of Acute Disease Epidemiology (where I still work part-time) and for the University of South Carolina Infectious Disease Lab primarily working with COVID-19, vector-borne, and neglected tropical diseases. After my partner returned we moved to his next assignment at Fort Gordon near Augusta and I began the MPH program here. At USC, I was given a very brief introduction to R but we primarily used SAS and some STATA for analysis, however, last semester, I received more R training in the EPID 7500 course. I would like to receive a better understanding of coding and best practices from this course, as my previous training were mainly focus on data analysis and interpretation. Outside of work and academia, I enjoy hiking, camping, kayaking, and reading."
  },
  {
    "objectID": "aboutme.html#heres-what-i-look-like",
    "href": "aboutme.html#heres-what-i-look-like",
    "title": "About me",
    "section": "Here’s what I look like…",
    "text": "Here’s what I look like…\n\nPlease feel free to reach out! I’m new here and excited to meet new people."
  },
  {
    "objectID": "aboutme.html#interested-in-research",
    "href": "aboutme.html#interested-in-research",
    "title": "About me",
    "section": "Interested in research?",
    "text": "Interested in research?\nThis is a article I co-authored on one of the projects I was involved in at USC:\nDeterminants of COVID-19 Vaccination among a State-Wide Year-Long Surveillance Initiative in a Conservative Southern State\nIt’s on a year COVID-19 prevalence and vaccination surveillance study in South Carolina. There were several analysis conducted for this paper including a principal component analysis, survival analysis, and a geospatial temporal analysis. This project is unique in that it provided us funding for primary data collection, and testing using new technology call d-PCR (compared to q-PCR) and even a continuation of this project now called All-IN SC."
  },
  {
    "objectID": "coding_exercise.html#loading-and-checking-data",
    "href": "coding_exercise.html#loading-and-checking-data",
    "title": "R Coding Exercise",
    "section": "Loading and Checking Data",
    "text": "Loading and Checking Data\n\n# Load dslabs package\nlibrary(\"dslabs\")\n\nWarning: package 'dslabs' was built under R version 4.2.2\n\n# Look at help file for gapminder data\nhelp(gapminder)\n\nstarting httpd help server ... done\n\n# Get an overview of data structure\nstr(gapminder)\n\n'data.frame':   10545 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...\n $ life_expectancy : num  62.9 47.5 36 63 65.4 ...\n $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...\n $ population      : num  1636054 11124892 5270844 54681 20619075 ...\n $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 4 1 1 2 2 3 2 5 4 3 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 19 11 10 2 15 21 2 1 22 21 ...\n\n# Get a summary of data\nsummary(gapminder)\n\n                country           year      infant_mortality life_expectancy\n Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  \n Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  \n Angola             :   57   Median :1988   Median : 41.50   Median :67.54  \n Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  \n Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  \n Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  \n (Other)            :10203                  NA's   :1453                    \n   fertility       population             gdp               continent   \n Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  \n 1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  \n Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  \n Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  \n 3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  \n Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  \n NA's   :187     NA's   :185         NA's   :2972                       \n             region    \n Western Asia   :1026  \n Eastern Africa : 912  \n Western Africa : 912  \n Caribbean      : 741  \n South America  : 684  \n Southern Europe: 684  \n (Other)        :5586  \n\n# Determine the type of object gapminder is\nclass(gapminder)\n\n[1] \"data.frame\""
  },
  {
    "objectID": "coding_exercise.html#processing-data",
    "href": "coding_exercise.html#processing-data",
    "title": "R Coding Exercise",
    "section": "Processing Data",
    "text": "Processing Data\n\n# Load Tidyverse \nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.2.2\n\n\nWarning: package 'ggplot2' was built under R version 4.2.2\n\n\nWarning: package 'tidyr' was built under R version 4.2.2\n\n\nWarning: package 'readr' was built under R version 4.2.2\n\n\nWarning: package 'purrr' was built under R version 4.2.2\n\n\nWarning: package 'dplyr' was built under R version 4.2.2\n\n\nWarning: package 'stringr' was built under R version 4.2.2\n\n\nWarning: package 'forcats' was built under R version 4.2.2\n\n\nWarning: package 'lubridate' was built under R version 4.2.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\n# New object for African Countries\nafricadata <- gapminder %>%\n  filter(continent == 'Africa')\n\n# Check africadata\nstr(africadata)\n\n'data.frame':   2907 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n $ fertility       : num  7.65 7.32 6.28 6.62 6.29 6.95 5.65 6.89 5.84 6.25 ...\n $ population      : num  11124892 5270844 2431620 524029 4829291 ...\n $ gdp             : num  1.38e+10 NA 6.22e+08 1.24e+08 5.97e+08 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n\nsummary(africadata)\n\n         country          year      infant_mortality life_expectancy\n Algeria     :  57   Min.   :1960   Min.   : 11.40   Min.   :13.20  \n Angola      :  57   1st Qu.:1974   1st Qu.: 62.20   1st Qu.:48.23  \n Benin       :  57   Median :1988   Median : 93.40   Median :53.98  \n Botswana    :  57   Mean   :1988   Mean   : 95.12   Mean   :54.38  \n Burkina Faso:  57   3rd Qu.:2002   3rd Qu.:124.70   3rd Qu.:60.10  \n Burundi     :  57   Max.   :2016   Max.   :237.40   Max.   :77.60  \n (Other)     :2565                  NA's   :226                     \n   fertility       population             gdp               continent   \n Min.   :1.500   Min.   :    41538   Min.   :4.659e+07   Africa  :2907  \n 1st Qu.:5.160   1st Qu.:  1605232   1st Qu.:8.373e+08   Americas:   0  \n Median :6.160   Median :  5570982   Median :2.448e+09   Asia    :   0  \n Mean   :5.851   Mean   : 12235961   Mean   :9.346e+09   Europe  :   0  \n 3rd Qu.:6.860   3rd Qu.: 13888152   3rd Qu.:6.552e+09   Oceania :   0  \n Max.   :8.450   Max.   :182201962   Max.   :1.935e+11                  \n NA's   :51      NA's   :51          NA's   :637                        \n                       region   \n Eastern Africa           :912  \n Western Africa           :912  \n Middle Africa            :456  \n Northern Africa          :342  \n Southern Africa          :285  \n Australia and New Zealand:  0  \n (Other)                  :  0  \n\n# Create infant_mortality\ninf_mortality <- africadata %>%\n  select(infant_mortality, life_expectancy)\n\n# Check inf_mortality\nstr(inf_mortality)\n\n'data.frame':   2907 obs. of  2 variables:\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n\nsummary(inf_mortality)\n\n infant_mortality life_expectancy\n Min.   : 11.40   Min.   :13.20  \n 1st Qu.: 62.20   1st Qu.:48.23  \n Median : 93.40   Median :53.98  \n Mean   : 95.12   Mean   :54.38  \n 3rd Qu.:124.70   3rd Qu.:60.10  \n Max.   :237.40   Max.   :77.60  \n NA's   :226                     \n\n# Create life_expectancy\nlif_expect <- africadata %>%\n  select(life_expectancy, population)\n\n# Check lif_expect\nstr(lif_expect)\n\n'data.frame':   2907 obs. of  2 variables:\n $ life_expectancy: num  47.5 36 38.3 50.3 35.2 ...\n $ population     : num  11124892 5270844 2431620 524029 4829291 ...\n\nsummary(lif_expect)\n\n life_expectancy   population       \n Min.   :13.20   Min.   :    41538  \n 1st Qu.:48.23   1st Qu.:  1605232  \n Median :53.98   Median :  5570982  \n Mean   :54.38   Mean   : 12235961  \n 3rd Qu.:60.10   3rd Qu.: 13888152  \n Max.   :77.60   Max.   :182201962  \n                 NA's   :51"
  },
  {
    "objectID": "coding_exercise.html#plotting",
    "href": "coding_exercise.html#plotting",
    "title": "R Coding Exercise",
    "section": "Plotting",
    "text": "Plotting\n\n# Plot life expectancy as a function of inf_mortality\nggplot(inf_mortality, aes(x = infant_mortality,\n                          y = life_expectancy)) +\n  geom_point() + labs(x = \"Infant Mortality (per 1,000 births)\",\n                      y = \"Life Expectancy (in years)\")\n\nWarning: Removed 226 rows containing missing values (`geom_point()`).\n\n\n\n\n# Plot life expectancy as a function of population size\nggplot(lif_expect, aes(x = log(population),\n                          y = life_expectancy)) +\n  geom_point() + labs(x = \"Log Population\", y = \"Life Expectancy (in years)\")\n\nWarning: Removed 51 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "coding_exercise.html#more-data-processing",
    "href": "coding_exercise.html#more-data-processing",
    "title": "R Coding Exercise",
    "section": "More data processing",
    "text": "More data processing\n\n# Find NAs\nsubset(africadata,is.na(inf_mortality))\n\n                      country year infant_mortality life_expectancy fertility\n8                  Cape Verde 1960               NA           50.12      6.89\n10                       Chad 1960               NA           40.95      6.25\n15                   Djibouti 1960               NA           45.77      6.46\n17          Equatorial Guinea 1960               NA           37.69      5.51\n18                    Eritrea 1960               NA           39.03      6.90\n20                      Gabon 1960               NA           38.83      4.38\n23                     Guinea 1960               NA           35.71      6.10\n24              Guinea-Bissau 1960               NA           43.14      5.83\n37                      Niger 1960               NA           36.82      7.05\n43               South Africa 1960               NA           49.01      6.17\n53                     Angola 1961               NA           36.53      7.35\n59                 Cape Verde 1961               NA           50.27      6.92\n61                       Chad 1961               NA           41.35      6.27\n62                    Comoros 1961               NA           44.47      6.85\n63           Congo, Dem. Rep. 1961               NA           44.25      6.02\n66                   Djibouti 1961               NA           46.28      6.49\n68          Equatorial Guinea 1961               NA           38.04      5.52\n69                    Eritrea 1961               NA           39.35      6.87\n70                   Ethiopia 1961               NA           38.35      6.88\n71                      Gabon 1961               NA           39.15      4.46\n75              Guinea-Bissau 1961               NA           43.39      5.77\n80                 Madagascar 1961               NA           42.54      7.30\n86                 Mozambique 1961               NA           38.79      6.60\n87                    Namibia 1961               NA           47.70      6.17\n88                      Niger 1961               NA           36.97      7.08\n89                    Nigeria 1961               NA           41.00      6.35\n94               South Africa 1961               NA           49.40      6.14\n104                    Angola 1962               NA           37.08      7.39\n110                Cape Verde 1962               NA           50.43      6.95\n112                      Chad 1962               NA           41.76      6.29\n113                   Comoros 1962               NA           44.89      6.90\n114          Congo, Dem. Rep. 1962               NA           44.61      6.03\n117                  Djibouti 1962               NA           46.79      6.53\n119         Equatorial Guinea 1962               NA           38.38      5.53\n120                   Eritrea 1962               NA           39.69      6.84\n121                  Ethiopia 1962               NA           38.94      6.88\n122                     Gabon 1962               NA           39.56      4.54\n126             Guinea-Bissau 1962               NA           43.64      5.67\n131                Madagascar 1962               NA           43.12      7.30\n137                Mozambique 1962               NA           39.40      6.60\n138                   Namibia 1962               NA           48.31      6.18\n139                     Niger 1962               NA           37.10      7.12\n145              South Africa 1962               NA           49.78      6.10\n155                    Angola 1963               NA           37.63      7.41\n161                Cape Verde 1963               NA           50.59      6.98\n163                      Chad 1963               NA           42.17      6.30\n164                   Comoros 1963               NA           45.32      6.94\n165          Congo, Dem. Rep. 1963               NA           44.98      6.05\n168                  Djibouti 1963               NA           47.30      6.56\n170         Equatorial Guinea 1963               NA           38.73      5.55\n171                   Eritrea 1963               NA           40.04      6.81\n172                  Ethiopia 1963               NA           39.49      6.87\n173                     Gabon 1963               NA           40.07      4.62\n177             Guinea-Bissau 1963               NA           43.89      5.52\n182                Madagascar 1963               NA           43.70      7.30\n188                Mozambique 1963               NA           39.98      6.60\n189                   Namibia 1963               NA           48.90      6.20\n190                     Niger 1963               NA           37.24      7.15\n196              South Africa 1963               NA           50.14      6.05\n206                    Angola 1964               NA           38.18      7.43\n212                Cape Verde 1964               NA           50.77      6.99\n214                      Chad 1964               NA           42.58      6.32\n215                   Comoros 1964               NA           45.75      6.98\n216          Congo, Dem. Rep. 1964               NA           45.36      6.07\n219                  Djibouti 1964               NA           47.80      6.60\n221         Equatorial Guinea 1964               NA           39.08      5.57\n222                   Eritrea 1964               NA           40.41      6.78\n223                  Ethiopia 1964               NA           39.36      6.87\n224                     Gabon 1964               NA           40.70      4.69\n228             Guinea-Bissau 1964               NA           44.15      5.32\n233                Madagascar 1964               NA           44.28      7.30\n240                   Namibia 1964               NA           49.48      6.22\n241                     Niger 1964               NA           37.36      7.19\n247              South Africa 1964               NA           50.52      5.98\n257                    Angola 1965               NA           38.74      7.43\n263                Cape Verde 1965               NA           51.00      6.99\n265                      Chad 1965               NA           43.01      6.34\n266                   Comoros 1965               NA           46.18      7.00\n267          Congo, Dem. Rep. 1965               NA           45.77      6.09\n270                  Djibouti 1965               NA           48.33      6.63\n272         Equatorial Guinea 1965               NA           39.44      5.60\n273                   Eritrea 1965               NA           40.81      6.75\n274                  Ethiopia 1965               NA           38.13      6.86\n275                     Gabon 1965               NA           41.42      4.77\n279             Guinea-Bissau 1965               NA           44.39      5.14\n291                   Namibia 1965               NA           50.05      6.24\n292                     Niger 1965               NA           37.49      7.22\n298              South Africa 1965               NA           50.91      5.91\n308                    Angola 1966               NA           39.28      7.42\n314                Cape Verde 1966               NA           51.32      6.99\n316                      Chad 1966               NA           43.48      6.36\n317                   Comoros 1966               NA           46.63      7.03\n318          Congo, Dem. Rep. 1966               NA           46.20      6.11\n321                  Djibouti 1966               NA           48.90      6.67\n323         Equatorial Guinea 1966               NA           39.78      5.62\n324                   Eritrea 1966               NA           41.22      6.73\n326                     Gabon 1966               NA           42.21      4.83\n330             Guinea-Bissau 1966               NA           44.63      5.05\n342                   Namibia 1966               NA           50.61      6.26\n343                     Niger 1966               NA           37.61      7.26\n349              South Africa 1966               NA           51.30      5.84\n359                    Angola 1967               NA           39.84      7.40\n365                Cape Verde 1967               NA           51.75      6.98\n367                      Chad 1967               NA           43.98      6.39\n368                   Comoros 1967               NA           47.10      7.04\n369          Congo, Dem. Rep. 1967               NA           46.66      6.14\n372                  Djibouti 1967               NA           49.53      6.70\n374         Equatorial Guinea 1967               NA           40.13      5.64\n375                   Eritrea 1967               NA           41.66      6.71\n377                     Gabon 1967               NA           43.06      4.90\n381             Guinea-Bissau 1967               NA           44.86      5.09\n400              South Africa 1967               NA           51.68      5.77\n410                    Angola 1968               NA           40.39      7.38\n416                Cape Verde 1968               NA           52.32      6.97\n418                      Chad 1968               NA           44.54      6.43\n419                   Comoros 1968               NA           47.58      7.06\n420          Congo, Dem. Rep. 1968               NA           47.14      6.16\n423                  Djibouti 1968               NA           50.23      6.74\n425         Equatorial Guinea 1968               NA           40.48      5.66\n426                   Eritrea 1968               NA           42.10      6.69\n428                     Gabon 1968               NA           43.90      4.96\n432             Guinea-Bissau 1968               NA           45.09      5.30\n451              South Africa 1968               NA           52.04      5.70\n461                    Angola 1969               NA           40.95      7.34\n470                   Comoros 1969               NA           48.09      7.06\n474                  Djibouti 1969               NA           50.99      6.77\n476         Equatorial Guinea 1969               NA           40.82      5.67\n479                     Gabon 1969               NA           44.74      5.02\n483             Guinea-Bissau 1969               NA           45.29      5.64\n502              South Africa 1969               NA           52.41      5.64\n525                  Djibouti 1970               NA           51.75      6.80\n527         Equatorial Guinea 1970               NA           41.17      5.68\n530                     Gabon 1970               NA           45.55      5.08\n534             Guinea-Bissau 1970               NA           45.50      6.07\n553              South Africa 1970               NA           52.77      5.59\n563                    Angola 1971               NA           42.06      7.26\n576                  Djibouti 1971               NA           52.51      6.83\n578         Equatorial Guinea 1971               NA           41.52      5.68\n581                     Gabon 1971               NA           46.35      5.14\n585             Guinea-Bissau 1971               NA           45.71      6.49\n604              South Africa 1971               NA           53.11      5.54\n614                    Angola 1972               NA           42.62      7.23\n627                  Djibouti 1972               NA           53.20      6.84\n629         Equatorial Guinea 1972               NA           41.87      5.68\n632                     Gabon 1972               NA           47.13      5.21\n636             Guinea-Bissau 1972               NA           45.91      6.81\n655              South Africa 1972               NA           53.44      5.48\n665                    Angola 1973               NA           43.17      7.21\n678                  Djibouti 1973               NA           53.83      6.83\n680         Equatorial Guinea 1973               NA           42.21      5.68\n683                     Gabon 1973               NA           47.90      5.28\n687             Guinea-Bissau 1973               NA           46.12      6.98\n706              South Africa 1973               NA           53.77      5.42\n716                    Angola 1974               NA           43.71      7.19\n729                  Djibouti 1974               NA           54.38      6.82\n731         Equatorial Guinea 1974               NA           42.56      5.68\n734                     Gabon 1974               NA           48.68      5.34\n738             Guinea-Bissau 1974               NA           46.33      6.99\n767                    Angola 1975               NA           44.22      7.19\n780                  Djibouti 1975               NA           54.85      6.78\n782         Equatorial Guinea 1975               NA           42.91      5.67\n785                     Gabon 1975               NA           49.45      5.41\n789             Guinea-Bissau 1975               NA           46.54      6.87\n818                    Angola 1976               NA           44.68      7.19\n833         Equatorial Guinea 1976               NA           43.28      5.68\n836                     Gabon 1976               NA           50.23      5.48\n869                    Angola 1977               NA           45.12      7.19\n884         Equatorial Guinea 1977               NA           43.65      5.68\n887                     Gabon 1977               NA           51.01      5.54\n920                    Angola 1978               NA           45.50      7.19\n935         Equatorial Guinea 1978               NA           44.04      5.69\n971                    Angola 1979               NA           45.84      7.20\n986         Equatorial Guinea 1979               NA           44.44      5.71\n1037        Equatorial Guinea 1980               NA           44.85      5.73\n1088        Equatorial Guinea 1981               NA           45.26      5.75\n2857                  Algeria 2016               NA           76.50        NA\n2858                   Angola 2016               NA           60.00        NA\n2859                    Benin 2016               NA           62.60        NA\n2860                 Botswana 2016               NA           60.13        NA\n2861             Burkina Faso 2016               NA           61.20        NA\n2862                  Burundi 2016               NA           61.40        NA\n2863                 Cameroon 2016               NA           59.70        NA\n2864               Cape Verde 2016               NA           73.10        NA\n2865 Central African Republic 2016               NA           51.04        NA\n2866                     Chad 2016               NA           58.01        NA\n2867                  Comoros 2016               NA           68.20        NA\n2868         Congo, Dem. Rep. 2016               NA           61.51        NA\n2869              Congo, Rep. 2016               NA           61.50        NA\n2870            Cote d'Ivoire 2016               NA           59.71        NA\n2871                 Djibouti 2016               NA           64.51        NA\n2872                    Egypt 2016               NA           71.70        NA\n2873        Equatorial Guinea 2016               NA           61.00        NA\n2874                  Eritrea 2016               NA           60.80        NA\n2875                 Ethiopia 2016               NA           65.70        NA\n2876                    Gabon 2016               NA           66.81        NA\n2877                   Gambia 2016               NA           68.20        NA\n2878                    Ghana 2016               NA           65.80        NA\n2879                   Guinea 2016               NA           59.60        NA\n2880            Guinea-Bissau 2016               NA           55.90        NA\n2881                    Kenya 2016               NA           65.20        NA\n2882                  Lesotho 2016               NA           48.86        NA\n2883                  Liberia 2016               NA           64.63        NA\n2884                    Libya 2016               NA           73.21        NA\n2885               Madagascar 2016               NA           63.70        NA\n2886                   Malawi 2016               NA           60.90        NA\n2887                     Mali 2016               NA           60.40        NA\n2888               Mauritania 2016               NA           69.80        NA\n2889                Mauritius 2016               NA           74.70        NA\n2890                  Morocco 2016               NA           74.80        NA\n2891               Mozambique 2016               NA           58.12        NA\n2892                  Namibia 2016               NA           64.30        NA\n2893                    Niger 2016               NA           61.30        NA\n2894                  Nigeria 2016               NA           65.51        NA\n2895                   Rwanda 2016               NA           66.10        NA\n2896                  Senegal 2016               NA           65.60        NA\n2897               Seychelles 2016               NA           74.20        NA\n2898             Sierra Leone 2016               NA           59.07        NA\n2899             South Africa 2016               NA           61.40        NA\n2900                    Sudan 2016               NA           67.80        NA\n2901                Swaziland 2016               NA           53.88        NA\n2902                 Tanzania 2016               NA           64.91        NA\n2903                     Togo 2016               NA           61.90        NA\n2904                  Tunisia 2016               NA           77.60        NA\n2905                   Uganda 2016               NA           61.91        NA\n2906                   Zambia 2016               NA           57.10        NA\n2907                 Zimbabwe 2016               NA           61.69        NA\n     population         gdp continent          region\n8        202316          NA    Africa  Western Africa\n10      3002596   750173439    Africa   Middle Africa\n15        83636          NA    Africa  Eastern Africa\n17       252115          NA    Africa   Middle Africa\n18      1407631          NA    Africa  Eastern Africa\n20       499189   887289809    Africa   Middle Africa\n23      3577413          NA    Africa  Western Africa\n24       616407          NA    Africa  Western Africa\n37      3395212  1020197091    Africa  Western Africa\n43     17396367 38336071006    Africa Southern Africa\n53      5367287          NA    Africa   Middle Africa\n59       205958          NA    Africa  Western Africa\n61      3061423   760658941    Africa   Middle Africa\n62       191828          NA    Africa  Eastern Africa\n63     15637715  4451156989    Africa   Middle Africa\n66        88499          NA    Africa  Eastern Africa\n68       255100          NA    Africa   Middle Africa\n69      1441297          NA    Africa  Eastern Africa\n70     22671131          NA    Africa  Eastern Africa\n71       504174  1018309175    Africa   Middle Africa\n75       623413          NA    Africa  Western Africa\n80      5223621  2130711083    Africa  Eastern Africa\n86      7643290          NA    Africa  Eastern Africa\n87       617282          NA    Africa Southern Africa\n88      3493636  1066579260    Africa  Western Africa\n89     46144154 12861030560    Africa  Western Africa\n94     17850045 39810250010    Africa Southern Africa\n104     5465905          NA    Africa   Middle Africa\n110      210866          NA    Africa  Western Africa\n112     3122357   801431143    Africa   Middle Africa\n113      194960          NA    Africa  Eastern Africa\n114    16041247  5394833319    Africa   Middle Africa\n117       94200          NA    Africa  Eastern Africa\n119      257940          NA    Africa   Middle Africa\n120     1476321          NA    Africa  Eastern Africa\n121    23221331          NA    Africa  Eastern Africa\n122      509806  1094165180    Africa   Middle Africa\n126      629973          NA    Africa  Western Africa\n131     5352674  2179101018    Africa  Eastern Africa\n137     7799396          NA    Africa  Eastern Africa\n138      632658          NA    Africa Southern Africa\n139     3596613  1176209886    Africa  Western Africa\n145    18322335 42269436973    Africa Southern Africa\n155     5565808          NA    Africa   Middle Africa\n161      216913          NA    Africa  Western Africa\n163     3184775   788612621    Africa   Middle Africa\n164      198205          NA    Africa  Eastern Africa\n165    16461914  5676119396    Africa   Middle Africa\n168      100622          NA    Africa  Eastern Africa\n170      260990          NA    Africa   Middle Africa\n171     1512671          NA    Africa  Eastern Africa\n172    23798378          NA    Africa  Eastern Africa\n173      516270  1160826485    Africa   Middle Africa\n177      636593          NA    Africa  Western Africa\n182     5486593  2158848417    Africa  Eastern Africa\n188     7961458          NA    Africa  Eastern Africa\n189      648668          NA    Africa Southern Africa\n190     3703159  1287105652    Africa  Western Africa\n196    18809939 45386200940    Africa Southern Africa\n206     5665701          NA    Africa   Middle Africa\n212      223854          NA    Africa  Western Africa\n214     3247798   768811034    Africa   Middle Africa\n215      201665          NA    Africa  Eastern Africa\n216    16903899  5537609393    Africa   Middle Africa\n219      107584          NA    Africa  Eastern Africa\n221      264743          NA    Africa   Middle Africa\n222     1550297          NA    Africa  Eastern Africa\n223    24396965          NA    Africa  Eastern Africa\n224      523793  1213695790    Africa   Middle Africa\n228      643962          NA    Africa  Western Africa\n233     5625401  2244393192    Africa  Eastern Africa\n240      665297          NA    Africa Southern Africa\n241     3811813  1288792274    Africa  Western Africa\n247    19308166 48989793258    Africa Southern Africa\n257     5765025          NA    Africa   Middle Africa\n263      231427          NA    Africa  Western Africa\n265     3310921   773471780    Africa   Middle Africa\n266      205412          NA    Africa  Eastern Africa\n267    17369859  5592838673    Africa   Middle Africa\n270      114963          NA    Africa  Eastern Africa\n272      269427          NA    Africa   Middle Africa\n273     1589187          NA    Africa  Eastern Africa\n274    25013551          NA    Africa  Eastern Africa\n275      532512  1314837134    Africa   Middle Africa\n279      652566          NA    Africa  Western Africa\n291      682553          NA    Africa Southern Africa\n292     3921581  1377973629    Africa  Western Africa\n298    19813947 53347940265    Africa Southern Africa\n308     5863568          NA    Africa   Middle Africa\n314      239765          NA    Africa  Western Africa\n316     3373563   759494431    Africa   Middle Africa\n317      209536          NA    Africa  Eastern Africa\n318    17861860  5971780635    Africa   Middle Africa\n321      122868          NA    Africa  Eastern Africa\n323      275470          NA    Africa   Middle Africa\n324     1629333          NA    Africa  Eastern Africa\n326      542562  1374110052    Africa   Middle Africa\n330      662597          NA    Africa  Western Africa\n342      700316          NA    Africa Southern Africa\n343     4032210  1372702919    Africa  Western Africa\n349    20325230 55715759234    Africa Southern Africa\n359     5962831          NA    Africa   Middle Africa\n365      248733          NA    Africa  Western Africa\n367     3436227   765321282    Africa   Middle Africa\n368      214038          NA    Africa  Eastern Africa\n369    18378189  5912914485    Africa   Middle Africa\n372      131403          NA    Africa  Eastern Africa\n374      282445          NA    Africa   Middle Africa\n375     1670821          NA    Africa  Eastern Africa\n377      553829  1430656781    Africa   Middle Africa\n381      673893          NA    Africa  Western Africa\n400    20843785 59725342237    Africa Southern Africa\n410     6066094          NA    Africa   Middle Africa\n416      257478          NA    Africa  Western Africa\n418     3500778   761822089    Africa   Middle Africa\n419      218794          NA    Africa  Eastern Africa\n420    18913177  6169103240    Africa   Middle Africa\n423      140461          NA    Africa  Eastern Africa\n425      288701          NA    Africa   Middle Africa\n426     1713846          NA    Africa  Eastern Africa\n428      565878  1466549111    Africa   Middle Africa\n432      686155          NA    Africa  Western Africa\n451    21374931 62205953376    Africa Southern Africa\n461     6177703          NA    Africa   Middle Africa\n470      223629          NA    Africa  Eastern Africa\n474      149891          NA    Africa  Eastern Africa\n476      292014          NA    Africa   Middle Africa\n479      578114  1585088962    Africa   Middle Africa\n483      698917          NA    Africa  Western Africa\n502    21926165 65139570532    Africa Southern Africa\n525      159667          NA    Africa  Eastern Africa\n527      290905          NA    Africa   Middle Africa\n530      590119  1722664256    Africa   Middle Africa\n534      711828   104038537    Africa  Western Africa\n553    22502502 68558449204    Africa Southern Africa\n563     6437645          NA    Africa   Middle Africa\n576      169370          NA    Africa  Eastern Africa\n578      284915          NA    Africa   Middle Africa\n581      601734  1899387747    Africa   Middle Africa\n585      724863    99969624    Africa  Western Africa\n604    23106806 71492066360    Africa Southern Africa\n614     6587647          NA    Africa   Middle Africa\n627      179212          NA    Africa  Eastern Africa\n629      274906          NA    Africa   Middle Africa\n632      613129  2114720779    Africa   Middle Africa\n636      738117   106342548    Africa  Western Africa\n655    23736489 72675108212    Africa Southern Africa\n665     6750215          NA    Africa   Middle Africa\n678      190536          NA    Africa  Eastern Africa\n680      262399          NA    Africa   Middle Africa\n683      624625  2330050819    Africa   Middle Africa\n687      751512   107522836    Africa  Western Africa\n706    24384538 75997832835    Africa Southern Africa\n716     6923749          NA    Africa   Middle Africa\n729      205157          NA    Africa  Eastern Africa\n731      249587          NA    Africa   Middle Africa\n734      636702  3250120203    Africa   Middle Africa\n738      764974   112425062    Africa  Western Africa\n767     7107334          NA    Africa   Middle Africa\n780      224182          NA    Africa  Eastern Africa\n782      238240          NA    Africa   Middle Africa\n785      649719  3873822005    Africa   Middle Africa\n789      778482   121245465    Africa  Western Africa\n818     7299508          NA    Africa   Middle Africa\n833      228491          NA    Africa   Middle Africa\n836      663774  5253884186    Africa   Middle Africa\n869     7501320          NA    Africa   Middle Africa\n884      220352          NA    Africa   Middle Africa\n887      678786  4592835688    Africa   Middle Africa\n920     7717139          NA    Africa   Middle Africa\n935      215284          NA    Africa   Middle Africa\n971     7952882          NA    Africa   Middle Africa\n986      215014          NA    Africa   Middle Africa\n1037     220605          NA    Africa   Middle Africa\n1088     232934          NA    Africa   Middle Africa\n2857         NA          NA    Africa Northern Africa\n2858         NA          NA    Africa   Middle Africa\n2859         NA          NA    Africa  Western Africa\n2860         NA          NA    Africa Southern Africa\n2861         NA          NA    Africa  Western Africa\n2862         NA          NA    Africa  Eastern Africa\n2863         NA          NA    Africa   Middle Africa\n2864         NA          NA    Africa  Western Africa\n2865         NA          NA    Africa   Middle Africa\n2866         NA          NA    Africa   Middle Africa\n2867         NA          NA    Africa  Eastern Africa\n2868         NA          NA    Africa   Middle Africa\n2869         NA          NA    Africa   Middle Africa\n2870         NA          NA    Africa  Western Africa\n2871         NA          NA    Africa  Eastern Africa\n2872         NA          NA    Africa Northern Africa\n2873         NA          NA    Africa   Middle Africa\n2874         NA          NA    Africa  Eastern Africa\n2875         NA          NA    Africa  Eastern Africa\n2876         NA          NA    Africa   Middle Africa\n2877         NA          NA    Africa  Western Africa\n2878         NA          NA    Africa  Western Africa\n2879         NA          NA    Africa  Western Africa\n2880         NA          NA    Africa  Western Africa\n2881         NA          NA    Africa  Eastern Africa\n2882         NA          NA    Africa Southern Africa\n2883         NA          NA    Africa  Western Africa\n2884         NA          NA    Africa Northern Africa\n2885         NA          NA    Africa  Eastern Africa\n2886         NA          NA    Africa  Eastern Africa\n2887         NA          NA    Africa  Western Africa\n2888         NA          NA    Africa  Western Africa\n2889         NA          NA    Africa  Eastern Africa\n2890         NA          NA    Africa Northern Africa\n2891         NA          NA    Africa  Eastern Africa\n2892         NA          NA    Africa Southern Africa\n2893         NA          NA    Africa  Western Africa\n2894         NA          NA    Africa  Western Africa\n2895         NA          NA    Africa  Eastern Africa\n2896         NA          NA    Africa  Western Africa\n2897         NA          NA    Africa  Eastern Africa\n2898         NA          NA    Africa  Western Africa\n2899         NA          NA    Africa Southern Africa\n2900         NA          NA    Africa Northern Africa\n2901         NA          NA    Africa Southern Africa\n2902         NA          NA    Africa  Eastern Africa\n2903         NA          NA    Africa  Western Africa\n2904         NA          NA    Africa Northern Africa\n2905         NA          NA    Africa  Eastern Africa\n2906         NA          NA    Africa  Eastern Africa\n2907         NA          NA    Africa  Eastern Africa\n\nwith(subset(africadata, is.na(infant_mortality)), year)\n\n  [1] 1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 1961 1961 1961 1961 1961\n [16] 1961 1961 1961 1961 1961 1961 1961 1961 1961 1961 1961 1961 1962 1962 1962\n [31] 1962 1962 1962 1962 1962 1962 1962 1962 1962 1962 1962 1962 1962 1963 1963\n [46] 1963 1963 1963 1963 1963 1963 1963 1963 1963 1963 1963 1963 1963 1963 1964\n [61] 1964 1964 1964 1964 1964 1964 1964 1964 1964 1964 1964 1964 1964 1964 1965\n [76] 1965 1965 1965 1965 1965 1965 1965 1965 1965 1965 1965 1965 1965 1966 1966\n [91] 1966 1966 1966 1966 1966 1966 1966 1966 1966 1966 1966 1967 1967 1967 1967\n[106] 1967 1967 1967 1967 1967 1967 1967 1968 1968 1968 1968 1968 1968 1968 1968\n[121] 1968 1968 1968 1969 1969 1969 1969 1969 1969 1969 1970 1970 1970 1970 1970\n[136] 1971 1971 1971 1971 1971 1971 1972 1972 1972 1972 1972 1972 1973 1973 1973\n[151] 1973 1973 1973 1974 1974 1974 1974 1974 1975 1975 1975 1975 1975 1976 1976\n[166] 1976 1977 1977 1977 1978 1978 1979 1979 1980 1981 2016 2016 2016 2016 2016\n[181] 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016\n[196] 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016\n[211] 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016 2016\n[226] 2016\n\n# Filter year with most data\nMore <- africadata %>%\n  filter(year == 2000)\n\n# Check\nsummary(More)\n\n         country        year      infant_mortality life_expectancy\n Algeria     : 1   Min.   :2000   Min.   : 12.30   Min.   :37.60  \n Angola      : 1   1st Qu.:2000   1st Qu.: 60.80   1st Qu.:51.75  \n Benin       : 1   Median :2000   Median : 80.30   Median :54.30  \n Botswana    : 1   Mean   :2000   Mean   : 78.93   Mean   :56.36  \n Burkina Faso: 1   3rd Qu.:2000   3rd Qu.:103.30   3rd Qu.:60.00  \n Burundi     : 1   Max.   :2000   Max.   :143.30   Max.   :75.00  \n (Other)     :45                                                  \n   fertility       population             gdp               continent \n Min.   :1.990   Min.   :    81154   Min.   :2.019e+08   Africa  :51  \n 1st Qu.:4.150   1st Qu.:  2304687   1st Qu.:1.274e+09   Americas: 0  \n Median :5.550   Median :  8799165   Median :3.238e+09   Asia    : 0  \n Mean   :5.156   Mean   : 15659800   Mean   :1.155e+10   Europe  : 0  \n 3rd Qu.:5.960   3rd Qu.: 17391242   3rd Qu.:8.654e+09   Oceania : 0  \n Max.   :7.730   Max.   :122876723   Max.   :1.329e+11                \n                                                                      \n                       region  \n Eastern Africa           :16  \n Western Africa           :16  \n Middle Africa            : 8  \n Northern Africa          : 6  \n Southern Africa          : 5  \n Australia and New Zealand: 0  \n (Other)                  : 0  \n\nstr(More)\n\n'data.frame':   51 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...\n $ infant_mortality: num  33.9 128.3 89.3 52.4 96.2 ...\n $ life_expectancy : num  73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ...\n $ fertility       : num  2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ...\n $ population      : num  31183658 15058638 6949366 1736579 11607944 ...\n $ gdp             : num  5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ..."
  },
  {
    "objectID": "coding_exercise.html#more-plotting",
    "href": "coding_exercise.html#more-plotting",
    "title": "R Coding Exercise",
    "section": "More plotting",
    "text": "More plotting\n\n# Plot life expectancy as a function of inf_mortality\nggplot(More, aes(x = infant_mortality,\n                 y = life_expectancy)) +\n  geom_point() + labs(x = \"Infant Mortality (per 1,000 births)\", \n                      y = \"Life Expectany (in years)\", \n                      title = \"Infant Mortality and Life Expectancy in Africa \n                      (Year: 2000)\")\n\n\n\n# Plot life expectancy as a function of population size\nggplot(More, aes(x = log(population),\n                          y = life_expectancy)) +\n  geom_point() + labs(x = \"Log Population\", y = \"Life Expectany (in years)\", \n                      title = \"Population and Life Expectancy in Africa \n                      (Year: 2000)\")"
  },
  {
    "objectID": "coding_exercise.html#fitting-a-simple-model",
    "href": "coding_exercise.html#fitting-a-simple-model",
    "title": "R Coding Exercise",
    "section": "Fitting a simple model",
    "text": "Fitting a simple model\n\n# lms\nfit1 <- lm(life_expectancy ~ infant_mortality, data = More)\nfit2 <- lm(life_expectancy ~ population, data = More)\n\n# Results fit1\nsummary(fit1)\n\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality, data = More)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-22.6651  -3.7087   0.9914   4.0408   8.6817 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      71.29331    2.42611  29.386  < 2e-16 ***\ninfant_mortality -0.18916    0.02869  -6.594 2.83e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.221 on 49 degrees of freedom\nMultiple R-squared:  0.4701,    Adjusted R-squared:  0.4593 \nF-statistic: 43.48 on 1 and 49 DF,  p-value: 2.826e-08\n\n# Results fit2\nsummary(fit2)\n\n\nCall:\nlm(formula = life_expectancy ~ population, data = More)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-18.429  -4.602  -2.568   3.800  18.802 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 5.593e+01  1.468e+00  38.097   <2e-16 ***\npopulation  2.756e-08  5.459e-08   0.505    0.616    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.524 on 49 degrees of freedom\nMultiple R-squared:  0.005176,  Adjusted R-squared:  -0.01513 \nF-statistic: 0.2549 on 1 and 49 DF,  p-value: 0.6159"
  },
  {
    "objectID": "coding_exercise.html#conclusions",
    "href": "coding_exercise.html#conclusions",
    "title": "R Coding Exercise",
    "section": "Conclusions",
    "text": "Conclusions\nWhile the data does not show a statistically significant association between life expectancy and population size given our p-value is greater than our alpha level of 0.05 (p = 0.62), there was significant evidence of an association between life expectancy and infant mortality give out p-value is less than our alpha level of 0.05 (p < 0.001). Life expectancy decreases by 2.49 year on average for every unit increase in infant mortality.\nThis section was added by Hayley Hemme\n\nworld_2000 <- gapminder %>%\n  filter(year == \"2000\")\n\nLet’s take a look at the distribution of fertility rates across the world in 2000.\n\nworld_2000 %>% ggplot() + geom_histogram(aes(x=fertility)) + labs(title = \"Histogram of Fertility Rates in 2000\", x = \"Fertility Rate\")\n\n\n\n\nThere is a positively skewed distribution. Let’s see if viewing fertility rates by continent will revel anything interesting.\n\nworld_2000 %>% ggplot() + geom_histogram(aes(x=fertility, fill=  continent)) + labs(title = \"Histogram of Fertility Rates in 2000 by Continent\", x = \"Fertility Rate\")\n\n\n\n\nThis plot reveals that highest average fertility rates occur in African countries, while lowest average fertility rates are seen in European countries.\nHere is the same information plotted as a scatterplot with a fitted line for each continent.\n\nworld_2000 %>%  ggplot(aes(x = fertility, y = life_expectancy, color = continent)) + geom_point() + stat_smooth(se = F) + labs(title = \"Fertility Rates and Life Expectancy in 2000 by Continent\", x = \"Fertility Rate\", y = \"Life Expectancy (years)\")\n\n\n\n\nLet’s see how well fertility rate can predict life expectancy around the world in 2000.\n\nmodel1 <- (lm(life_expectancy ~ fertility, data = world_2000))\nsummary(model1)\n\n\nCall:\nlm(formula = life_expectancy ~ fertility, data = world_2000)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-19.411  -3.623   1.071   3.836  16.247 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  82.1892     0.9002   91.30   <2e-16 ***\nfertility    -4.4512     0.2457  -18.12   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 5.751 on 183 degrees of freedom\nMultiple R-squared:  0.6421,    Adjusted R-squared:  0.6401 \nF-statistic: 328.3 on 1 and 183 DF,  p-value: < 2.2e-16\n\n\nThis model seems to suggest that fertility is a good predictor of life expectancy. For every birth increase in average fertility rate, life expectancy decreases by 4.45 years (p < 0.0001). Let’s see how this compares to infant mortality, which was found to be a statisitically significant predictor of life expectancy in Africa during the same year.\n\nmodel2 <- (lm(life_expectancy ~ infant_mortality, data = world_2000))\nsummary(model2)\n\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality, data = world_2000)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-25.2616  -1.8119   0.8063   2.8264   9.6925 \n\nCoefficients:\n                  Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      77.302172   0.503151  153.64   <2e-16 ***\ninfant_mortality -0.247695   0.009592  -25.82   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.424 on 176 degrees of freedom\n  (7 observations deleted due to missingness)\nMultiple R-squared:  0.7912,    Adjusted R-squared:   0.79 \nF-statistic: 666.8 on 1 and 176 DF,  p-value: < 2.2e-16\n\n\nGlobally, there is a stronger correlation between infant mortality rate and life expectancy compared to fertility rate and life expectancy (R-squared = 0.79 vs. 0.64). For every unit increase in infant mortality rate, life expectancy decreases by 0.25 years (p < 0.0001)."
  },
  {
    "objectID": "dataanalysis_exercise.html",
    "href": "dataanalysis_exercise.html",
    "title": "dataanalysis_exercise",
    "section": "",
    "text": "This data comes from the Centers for Disease Control and Prevention’s National Notifiable Diseases Surveillance System (NNDSS). Every week the CDC posts data received from the NNDSS system by the 50 states and US territories. This data set in particular was posted on 01.26.2023.\n\n\n\n\n# Load necessary packages...\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.2.2\n\n\nWarning: package 'ggplot2' was built under R version 4.2.2\n\n\nWarning: package 'tidyr' was built under R version 4.2.2\n\n\nWarning: package 'readr' was built under R version 4.2.2\n\n\nWarning: package 'purrr' was built under R version 4.2.2\n\n\nWarning: package 'dplyr' was built under R version 4.2.2\n\n\nWarning: package 'stringr' was built under R version 4.2.2\n\n\nWarning: package 'forcats' was built under R version 4.2.2\n\n\nWarning: package 'lubridate' was built under R version 4.2.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\n# Loading the raw data set.\nRawNNDSS <- readr:: read_csv(\"data/NNDSS_Weekly_Data.csv\")\n\nRows: 424130 Columns: 16\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (9): Reporting Area, Label, Current week, flag, Previous 52 weeks Max, f...\ndbl (7): Current MMWR Year, MMWR WEEK, Current week, Previous 52 week Max, C...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n## Let's take a look...\nsummary(RawNNDSS)\n\n Reporting Area     Current MMWR Year   MMWR WEEK        Label          \n Length:424130      Min.   :2022      Min.   : 1.00   Length:424130     \n Class :character   1st Qu.:2022      1st Qu.:11.00   Class :character  \n Mode  :character   Median :2022      Median :25.00   Mode  :character  \n                    Mean   :2022      Mean   :25.13                     \n                    3rd Qu.:2022      3rd Qu.:39.00                     \n                    Max.   :2023      Max.   :52.00                     \n                                                                        \n  Current week     Current week, flag Previous 52 week Max\n Min.   :    1.0   Length:424130      Min.   :    0.0     \n 1st Qu.:    1.0   Class :character   1st Qu.:    0.0     \n Median :    3.0   Mode  :character   Median :    0.0     \n Mean   :  107.5                      Mean   :   16.8     \n 3rd Qu.:   16.0                      3rd Qu.:    2.0     \n Max.   :17162.0                      Max.   :31207.0     \n NA's   :387848                       NA's   :54813       \n Previous 52 weeks Max, flag Cumulative YTD Current MMWR Year\n Length:424130               Min.   :      1                 \n Class :character            1st Qu.:      2                 \n Mode  :character            Median :     11                 \n                             Mean   :   1758                 \n                             3rd Qu.:     74                 \n                             Max.   :1405282                 \n                             NA's   :297627                  \n Cumulative YTD Current MMWR Year, flag Cumulative YTD Previous MMWR Year\n Length:424130                          Min.   :      1                  \n Class :character                       1st Qu.:      2                  \n Mode  :character                       Median :     10                  \n                                        Mean   :   2012                  \n                                        3rd Qu.:     75                  \n                                        Max.   :1649210                  \n                                        NA's   :283732                   \n Cumulative YTD Previous MMWR Year, flag  LOCATION1          LOCATION2        \n Length:424130                           Length:424130      Length:424130     \n Class :character                        Class :character   Class :character  \n Mode  :character                        Mode  :character   Mode  :character  \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n   sort_order          geocode         \n Min.   :2.022e+10   Length:424130     \n 1st Qu.:2.022e+10   Class :character  \n Median :2.022e+10   Mode  :character  \n Mean   :2.022e+10                     \n 3rd Qu.:2.022e+10                     \n Max.   :2.023e+10                     \n                                       \n\nstr(RawNNDSS)\n\nspc_tbl_ [424,130 × 16] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Reporting Area                         : chr [1:424130] \"US RESIDENTS\" \"NEW ENGLAND\" \"CONNECTICUT\" \"MAINE\" ...\n $ Current MMWR Year                      : num [1:424130] 2022 2022 2022 2022 2022 ...\n $ MMWR WEEK                              : num [1:424130] 10 10 10 10 10 10 10 10 10 10 ...\n $ Label                                  : chr [1:424130] \"Anthrax\" \"Anthrax\" \"Anthrax\" \"Anthrax\" ...\n $ Current week                           : num [1:424130] NA NA NA NA NA NA NA NA NA NA ...\n $ Current week, flag                     : chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ Previous 52 week Max                   : num [1:424130] 0 0 0 0 0 0 0 0 0 0 ...\n $ Previous 52 weeks Max, flag            : chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ Cumulative YTD Current MMWR Year       : num [1:424130] NA NA NA NA NA NA NA NA NA NA ...\n $ Cumulative YTD Current MMWR Year, flag : chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ Cumulative YTD Previous MMWR Year      : num [1:424130] NA NA NA NA NA NA NA NA NA NA ...\n $ Cumulative YTD Previous MMWR Year, flag: chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ LOCATION1                              : chr [1:424130] NA NA \"CONNECTICUT\" \"MAINE\" ...\n $ LOCATION2                              : chr [1:424130] \"US RESIDENTS\" \"NEW ENGLAND\" NA NA ...\n $ sort_order                             : num [1:424130] 2.02e+10 2.02e+10 2.02e+10 2.02e+10 2.02e+10 ...\n $ geocode                                : chr [1:424130] NA NA \"POINT (-72.738288 41.575155)\" \"POINT (-69.06137 45.117911)\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   `Reporting Area` = col_character(),\n  ..   `Current MMWR Year` = col_double(),\n  ..   `MMWR WEEK` = col_double(),\n  ..   Label = col_character(),\n  ..   `Current week` = col_double(),\n  ..   `Current week, flag` = col_character(),\n  ..   `Previous 52 week Max` = col_double(),\n  ..   `Previous 52 weeks Max, flag` = col_character(),\n  ..   `Cumulative YTD Current MMWR Year` = col_double(),\n  ..   `Cumulative YTD Current MMWR Year, flag` = col_character(),\n  ..   `Cumulative YTD Previous MMWR Year` = col_double(),\n  ..   `Cumulative YTD Previous MMWR Year, flag` = col_character(),\n  ..   LOCATION1 = col_character(),\n  ..   LOCATION2 = col_character(),\n  ..   sort_order = col_double(),\n  ..   geocode = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\n## I'm kind of only interested in Georgia since I live here now...\nGeorgiaNNDSS <- RawNNDSS %>%\n  filter(`Reporting Area` == \"GEORGIA\")\nsummary(GeorgiaNNDSS)\n\n Reporting Area     Current MMWR Year   MMWR WEEK        Label          \n Length:6059        Min.   :2022      Min.   : 1.00   Length:6059       \n Class :character   1st Qu.:2022      1st Qu.:11.00   Class :character  \n Mode  :character   Median :2022      Median :25.00   Mode  :character  \n                    Mean   :2022      Mean   :25.13                     \n                    3rd Qu.:2022      3rd Qu.:39.00                     \n                    Max.   :2023      Max.   :52.00                     \n                                                                        \n  Current week    Current week, flag Previous 52 week Max\n Min.   :  1.00   Length:6059        Min.   :   0.00     \n 1st Qu.:  1.00   Class :character   1st Qu.:   0.00     \n Median :  3.00   Mode  :character   Median :   0.00     \n Mean   : 97.55                      Mean   :  10.57     \n 3rd Qu.: 13.00                      3rd Qu.:   2.00     \n Max.   :866.00                      Max.   :1362.00     \n NA's   :5656                        NA's   :746         \n Previous 52 weeks Max, flag Cumulative YTD Current MMWR Year\n Length:6059                 Min.   :    1                   \n Class :character            1st Qu.:    5                   \n Mode  :character            Median :   26                   \n                             Mean   : 1409                   \n                             3rd Qu.:  154                   \n                             Max.   :49590                   \n                             NA's   :4538                    \n Cumulative YTD Current MMWR Year, flag Cumulative YTD Previous MMWR Year\n Length:6059                            Min.   :    1                    \n Class :character                       1st Qu.:    4                    \n Mode  :character                       Median :   28                    \n                                        Mean   : 1444                    \n                                        3rd Qu.:  124                    \n                                        Max.   :67941                    \n                                        NA's   :4116                     \n Cumulative YTD Previous MMWR Year, flag  LOCATION1          LOCATION2        \n Length:6059                             Length:6059        Length:6059       \n Class :character                        Class :character   Class :character  \n Mode  :character                        Mode  :character   Mode  :character  \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n   sort_order          geocode         \n Min.   :2.022e+10   Length:6059       \n 1st Qu.:2.022e+10   Class :character  \n Median :2.022e+10   Mode  :character  \n Mean   :2.022e+10                     \n 3rd Qu.:2.022e+10                     \n Max.   :2.023e+10                     \n                                       \n\nstr(GeorgiaNNDSS)\n\nspc_tbl_ [6,059 × 16] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Reporting Area                         : chr [1:6059] \"GEORGIA\" \"GEORGIA\" \"GEORGIA\" \"GEORGIA\" ...\n $ Current MMWR Year                      : num [1:6059] 2022 2022 2022 2022 2022 ...\n $ MMWR WEEK                              : num [1:6059] 10 10 10 10 10 10 10 10 10 10 ...\n $ Label                                  : chr [1:6059] \"Anthrax\" \"Arboviral diseases, Chikungunya virus disease\" \"Arboviral diseases, Eastern equine encephalitis virus disease\" \"Arboviral diseases, Jamestown Canyon  virus disease\" ...\n $ Current week                           : num [1:6059] NA NA NA NA NA NA NA NA NA NA ...\n $ Current week, flag                     : chr [1:6059] \"-\" \"-\" \"-\" \"-\" ...\n $ Previous 52 week Max                   : num [1:6059] 0 0 1 0 0 0 0 1 0 NA ...\n $ Previous 52 weeks Max, flag            : chr [1:6059] \"-\" \"-\" \"-\" \"-\" ...\n $ Cumulative YTD Current MMWR Year       : num [1:6059] NA NA NA NA NA NA NA 1 NA NA ...\n $ Cumulative YTD Current MMWR Year, flag : chr [1:6059] \"-\" \"-\" \"-\" \"-\" ...\n $ Cumulative YTD Previous MMWR Year      : num [1:6059] NA NA NA NA NA NA NA NA NA NA ...\n $ Cumulative YTD Previous MMWR Year, flag: chr [1:6059] \"-\" \"-\" \"-\" \"-\" ...\n $ LOCATION1                              : chr [1:6059] \"GEORGIA\" \"GEORGIA\" \"GEORGIA\" \"GEORGIA\" ...\n $ LOCATION2                              : chr [1:6059] NA NA NA NA ...\n $ sort_order                             : num [1:6059] 2.02e+10 2.02e+10 2.02e+10 2.02e+10 2.02e+10 ...\n $ geocode                                : chr [1:6059] \"POINT (-83.426574 32.638481)\" \"POINT (-83.426574 32.638481)\" \"POINT (-83.426574 32.638481)\" \"POINT (-83.426574 32.638481)\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   `Reporting Area` = col_character(),\n  ..   `Current MMWR Year` = col_double(),\n  ..   `MMWR WEEK` = col_double(),\n  ..   Label = col_character(),\n  ..   `Current week` = col_double(),\n  ..   `Current week, flag` = col_character(),\n  ..   `Previous 52 week Max` = col_double(),\n  ..   `Previous 52 weeks Max, flag` = col_character(),\n  ..   `Cumulative YTD Current MMWR Year` = col_double(),\n  ..   `Cumulative YTD Current MMWR Year, flag` = col_character(),\n  ..   `Cumulative YTD Previous MMWR Year` = col_double(),\n  ..   `Cumulative YTD Previous MMWR Year, flag` = col_character(),\n  ..   LOCATION1 = col_character(),\n  ..   LOCATION2 = col_character(),\n  ..   sort_order = col_double(),\n  ..   geocode = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\n## What diseases DID Georgia from 2022 until now...\ncurrentweek <- GeorgiaNNDSS %>%\n  filter(`Current MMWR Year` >= 2022 & `Current week` != 'NA')\n\n## Ehhhh let's get rid of 2023 for the sake of clear MMWR weeks...\ncurrentweek <- GeorgiaNNDSS %>%\n  filter(`Current MMWR Year` == 2022 & `Current week` != 'NA')\n\n## Lets take a look at what diseases were MOST reported...\ndiseaseincidence <- currentweek %>%\n  select(Label, `MMWR WEEK`,`Current week`) \n\n## Closer...\ndiseaseincidence1 <- currentweek %>%\n  select(Label, `Current week`)\n\n## Almost there...\ndiseaseincidence1 <- diseaseincidence1 %>%\n  group_by(Label) %>%\n  summarise(Freq = sum(`Current week`))\n  \n## Finally top ten have been narrowed down!\ndiseaseincidence1 <- diseaseincidence1 %>%\n  arrange(desc(Freq)) %>%\n  head(10)\n\n\n\n\n\n\n\n\n## You'll need two files for this...\nsaveRDS(diseaseincidence, file = \"data/disease_incidence_time.rds\")\nsaveRDS(diseaseincidence1, file = \"data/disease_freq.rds\")\n\n\n# Load the thingy...\nlibrary(ggplot2)\n\n# Disease incidence over time...\ndiseaseincidence %>%\n  ggplot(mapping = aes(x = `MMWR WEEK`, y = `Current week`, color = Label)) +\n  geom_line() + labs(x = \"MMWR Week\", y = \"Incidence of Disease\", title = \n                       \"Disease Incidence Over Time (by Epi Week)\")\n\n\n\n# Wooooo that plot was extremely long, I'm going to remove the Legend to make\n# it easier to see...\ndiseaseincidence %>%\n  ggplot(mapping = aes(x = `MMWR WEEK`, y = `Current week`, color = Label)) +\n  geom_line() + labs(x = \"MMWR Week\", y = \"Incidence of Disease\", title = \n                       \"Disease Incidence Over Time (by Epi Week of 2022)\") +\n  theme(legend.position = \"none\")\n\n\n\n# Disease Frequency in 2022\ndiseaseincidence1 %>%\nggplot(mapping = aes(x = reorder(Label, -Freq), y = Freq, fill = Label)) + \n  geom_bar(stat = 'identity') + \n  scale_x_discrete(labels = function(Label) str_wrap(Label, width = 6)) +\n  theme(legend.position = \"none\") + geom_text(aes(label = Freq), vjust = 0) +\n  labs(x = \"Disease Frequency\", y = \"Disease Reported\", \n       title = \"Frequency of Top Ten Reported Disease in Georgia in NNDSS in 2022\")\n\n\n\n\n\n\n\nEverything from here on out was done by Katie Wells\nHi Connor! :) You already did some pretty cool analysis above, but I’m interested in the 10 least commonly reported infectious diseases in Georgia in this time period. Here we go!\n\ntop_ten <- readRDS(\"data/disease_freq.rds\")\nall_ga <- readRDS(\"data/disease_incidence_time.rds\")\n\n\n#make a new dataset with the 10 least reported diseases\nleast_incidence <- all_ga %>%\n  group_by(Label) %>%\n  summarise(Freq = sum(`Current week`)) %>% arrange(Freq) %>%\n  head(10)\n\n#let's take a look\nprint(least_incidence)\n\n# A tibble: 10 × 2\n   Label                                                                    Freq\n   <chr>                                                                   <dbl>\n 1 Haemophilus influenzae, invasive disease, Age <5 years, Unknown seroty…     1\n 2 Invasive pneumococcal disease, age <5 years, Confirmed                      1\n 3 Listeriosis, Confirmed                                                      1\n 4 Mumps                                                                       1\n 5 Hepatitis, B, acute                                                         3\n 6 Tuberculosis                                                                3\n 7 Pertussis                                                                   6\n 8 Haemophilus influenzae, invasive disease, All ages, all serotypes          10\n 9 Shiga toxin-producing Escherichia coli (STEC)                              11\n10 Varicella morbidity                                                        11\n\n\nCool! I’m glad to see that these diseases have a very low frequency in Georgia (but a little concerned that they might be hanging around). Let’s put these in a bar graph to visualize it better.\n\n#graphing the 10 least reported; I'll keep the same theme as above for cohesiveness\nleast_incidence %>%\nggplot(mapping = aes(x = reorder(Label, -Freq), y = Freq, fill = Label)) + \n  geom_bar(stat = 'identity') + \n  scale_x_discrete(labels = function(Label) str_wrap(Label, width = 6)) +\n  theme(legend.position = \"none\") + geom_text(aes(label = Freq), vjust = 0) +\n  labs(x = \"Disease\", y = \"Cases Reported\", \n       title = \"Frequency of Ten Least Reported Diseases in Georgia in NNDSS in 2022\")\n\n\n\n\nAlso cool! I wonder when these reports occurred in relation to MMWR weeks…\n\n#filter the all_ga data with the 10 least reported I found earlier\nall_ga2 = filter(all_ga, Label %in% c(\"Haemophilus influenzae, invasive disease, Age <5 years, Unknown serotype\", \"Invasive pneumococcal disease, age <5 years, Confirmed\", \"Listeriosis, Confirmed\", \"Mumps\", \"Hepatitis, B, acute\", \"Tuberculosis\", \"Pertussis\", \"Haemophilus influenzae, invasive disease, All ages, all serotypes\", \"Shiga toxin-producing Escherichia coli (STEC)\", \"Varicella morbidity\"))\n\n#graph a scatterplot, see color legend above for particular disease\nall_ga2 %>%\n  ggplot(mapping = aes(x = `MMWR WEEK`, y = `Current week`, color = Label)) +\n  geom_point() + labs(x = \"MMWR Week\", y = \"Incidence of Disease\", title = \n                       \"Incidence of 10 Least Reported Diseases in Georgia Over Time\") +\n  theme(legend.position = \"none\")\n\n\n\n\nNow we can see when these cases were reported based on MMWR week. It looks like these incidences were rather spread out across the year with only a couple of diseases having more than one case per week.\nAll in all I though this was a really interesting dataset, and I like the way you processed the data as it led to some cool analyses!"
  },
  {
    "objectID": "fluanalysis/code/exploration.html",
    "href": "fluanalysis/code/exploration.html",
    "title": "exploration",
    "section": "",
    "text": "# Summary of Each Variable\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.0\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(here)\n\nhere() starts at C:/Users/conno/Documents/MADA/connorross-MADA-portfolio\n\nSympActAny_new <- readRDS(here(\"fluanalysis\", \"data\", \"processed_data\", \"SympActAny_new.rds\"))\n\nsummary(SympActAny_new)\n\n SwollenLymphNodes ChestCongestion ChillsSweats NasalCongestion Sneeze   \n No :418           No :323         No :130      No :167         No :339  \n Yes:312           Yes:407         Yes:600      Yes:563         Yes:391  \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n Fatigue   SubjectiveFever Headache      Weakness    CoughIntensity\n No : 64   No :230         No :115   None    : 49   None    : 47   \n Yes:666   Yes:500         Yes:615   Mild    :223   Mild    :154   \n                                     Moderate:338   Moderate:357   \n                                     Severe  :120   Severe  :172   \n                                                                   \n                                                                   \n     Myalgia    RunnyNose AbPain    ChestPain Diarrhea  EyePn     Insomnia \n None    : 79   No :211   No :639   No :497   No :631   No :617   No :315  \n Mild    :213   Yes:519   Yes: 91   Yes:233   Yes: 99   Yes:113   Yes:415  \n Moderate:325                                                              \n Severe  :113                                                              \n                                                                           \n                                                                           \n ItchyEye  Nausea    EarPn     Pharyngitis Breathless ToothPn   Vomit    \n No :551   No :475   No :568   No :119     No :436    No :565   No :652  \n Yes:179   Yes:255   Yes:162   Yes:611     Yes:294    Yes:165   Yes: 78  \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n Wheeze       BodyTemp     \n No :510   Min.   : 97.20  \n Yes:220   1st Qu.: 98.20  \n           Median : 98.50  \n           Mean   : 98.94  \n           3rd Qu.: 99.30  \n           Max.   :103.10  \n\nsummary(SympActAny_new$Nausea)\n\n No Yes \n475 255 \n\nsummary(SympActAny_new$BodyTemp)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  97.20   98.20   98.50   98.94   99.30  103.10 \n\n# I want to get an idea of what the data looks like for our two outcome variables individually and together...\n\n## Histogram BodyTemp\nGraph_HIST_BodyTemp <- SympActAny_new %>%\n  ggplot(mapping = aes(x = BodyTemp)) +\n  geom_histogram(color = \"black\", fill = \"lightblue\") + \n  labs(title = \"Body Temperature Histogram\", x = \"Body Temperature\", y = \"Count\") +\n  theme_dark()\nGraph_HIST_BodyTemp\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n## Density Plot BodyTemp\nGraph_DEN_BodyTemp <- SympActAny_new %>%\n  ggplot(mapping = aes(x = BodyTemp)) +\n  geom_density() + \n  labs(title = \"Body Temperature Histogram\", x = \"Body Temperature\") +\n  theme_dark()\nGraph_DEN_BodyTemp\n\n\n\n## Barplot Nausea\nGraph_BAR_Nausea <- SympActAny_new %>%\n  ggplot(mapping = aes(x = Nausea, fill = Nausea)) + \n  geom_bar() +\n  labs(title = \"Nausea Symptoms\", x = \"Presence of Nausea (Y/N)\", y = \"Count\") +\n  theme_dark()\nGraph_BAR_Nausea\n\n\n\n## Boxplot (BodyTemp v. Nausea)\nGraph_BOX_BTvN <- SympActAny_new %>%\n  ggplot(mapping = aes(x = Nausea, y = BodyTemp, fill = Nausea, shape = Nausea)) +\n  geom_boxplot() +\n  geom_jitter(size = 1) +\n  labs(title = \"Boxplot Comparing Nausea and Body Temperature\", x = \"Nausea\", y = \"Body Temperature (in Fahrenheit)\") +\n  theme_dark()\nGraph_BOX_BTvN\n\n\n\n\n\n# I'm going to try and create a function comparing the factor variables to our continuous variable of interest... Just for practice...also I'm kind of curious \n\nBOXfun <- function(x) {\n  ggplot(data = SympActAny_new, mapping = aes({{x}}, y = `BodyTemp`, fill = {{x}}, shape = {{x}})) +\n  geom_boxplot() +\n  geom_jitter(size = 1) +\n  theme_dark()\n}\n\n# Comparing other variables in the data to BodyTemp using boxplot\n\nGraph_BOX_BTvSLN <- BOXfun(SwollenLymphNodes)\nGraph_BOX_BTvSLN\n\n\n\nGraph_BOX_BTvCC <- BOXfun(ChestCongestion)\nGraph_BOX_BTvCC\n\n\n\nGraph_BOX_BTvCS <- BOXfun(ChillsSweats)\nGraph_BOX_BTvCS\n\n\n\nGraph_BOX_BTvNC <- BOXfun(NasalCongestion)\nGraph_BOX_BTvNC\n\n\n\n#Graph_BOX_BTvC <- BOXfun(CoughYN)\n#Graph_BOX_BTvC\n# Removed after Module 11 assessment \n\nGraph_BOX_BTvS <- BOXfun(Sneeze)\nGraph_BOX_BTvS\n\n\n\nGraph_BOX_BTvF <- BOXfun(Fatigue)\nGraph_BOX_BTvF \n\n\n\nGraph_BOX_BTvSF <- BOXfun(SubjectiveFever)\nGraph_BOX_BTvSF \n\n\n\nGraph_BOX_BTvH <- BOXfun(Headache)\nGraph_BOX_BTvH\n\n\n\nGraph_BOX_BTvW <- BOXfun(Weakness)\nGraph_BOX_BTvW\n\nWarning: Using shapes for an ordinal variable is not advised\n\n\n\n\nGraph_BOX_BTvM <- BOXfun(Myalgia)\nGraph_BOX_BTvM\n\nWarning: Using shapes for an ordinal variable is not advised\n\n\n\n\nGraph_BOX_BTvRN <- BOXfun(RunnyNose)\nGraph_BOX_BTvRN\n\n\n\nGraph_BOX_BTvAP <- BOXfun(AbPain)\nGraph_BOX_BTvAP\n\n\n\nGraph_BOX_BTvCP <- BOXfun(ChestPain)\nGraph_BOX_BTvCP\n\n\n\nGraph_BOX_BTvD <- BOXfun(Diarrhea)\nGraph_BOX_BTvD\n\n\n\nGraph_BOX_BTvEP <- BOXfun(EyePn)\nGraph_BOX_BTvEP\n\n\n\nGraph_BOX_BTvI <- BOXfun(Insomnia)\nGraph_BOX_BTvI\n\n\n\nGraph_BOX_BTvIE <- BOXfun(ItchyEye)\nGraph_BOX_BTvIE\n\n\n\nGraph_BOX_BTvNa <- BOXfun(Nausea)\nGraph_BOX_BTvNa\n\n\n\nGraph_BOX_BTvEarpn <- BOXfun(EarPn)\nGraph_BOX_BTvEarpn\n\n\n\n#Graph_BOX_BTvHear<- BOXfun(Hearing)\n#Graph_BOX_BTvHear\n# Removed after module 11\n\nGraph_BOX_BTvPHAR <- BOXfun(Pharyngitis)\nGraph_BOX_BTvPHAR\n\n\n\nGraph_BOX_BTvBREA <- BOXfun(Breathless)\nGraph_BOX_BTvBREA\n\n\n\nGraph_BOX_BTvTooth <- BOXfun(ToothPn)\nGraph_BOX_BTvTooth\n\n\n\n#Graph_BOX_BTvVis <- BOXfun(Vision)\n#Graph_BOX_BTvVis\n# Removed after module 11\n\nGraph_BOX_BTvVom <- BOXfun(Vomit)\nGraph_BOX_BTvVom\n\n\n\nGraph_BOX_BTvWheez <- BOXfun(Wheeze)\nGraph_BOX_BTvWheez"
  },
  {
    "objectID": "fluanalysis/code/fitting.html",
    "href": "fluanalysis/code/fitting.html",
    "title": "fitting",
    "section": "",
    "text": "Model Fitting (1)\n\nsetwd(\"../\")\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.0\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(here)\n\nhere() starts at C:/Users/conno/Documents/MADA/connorross-MADA-portfolio\n\ngetwd()\n\n[1] \"C:/Users/conno/Documents/MADA/connorross-MADA-portfolio/fluanalysis\"\n\nSympActAny_new <- readRDS(here(\"fluanalysis\", \"data\", \"processed_data\", \"SympActAny_new.rds\"))\n\n\n\n\nPrepares model and engine as laid out in ‘Get Started - Build a model tutorial’ on tidymodels website.\n\n# Load packages\n\nlibrary(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──\n\n\n✔ broom        1.0.4     ✔ rsample      1.1.1\n✔ dials        1.1.0     ✔ tune         1.0.1\n✔ infer        1.0.4     ✔ workflows    1.1.3\n✔ modeldata    1.1.0     ✔ workflowsets 1.0.0\n✔ parsnip      1.0.4     ✔ yardstick    1.1.0\n✔ recipes      1.0.5     \n\n\n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Use tidymodels_prefer() to resolve common conflicts.\n\nlibrary(performance)\n\n\nAttaching package: 'performance'\n\n\nThe following objects are masked from 'package:yardstick':\n\n    mae, rmse\n\nlibrary(vip)\n\n\nAttaching package: 'vip'\n\n\nThe following object is masked from 'package:utils':\n\n    vi\n\n#Prepare linear model with engine\nlinear_reg()\n\nLinear Regression Model Specification (regression)\n\nComputational engine: lm \n\nlm_mod <- linear_reg() %>%\n  set_engine(\"lm\")\n\n\n\n\nModel Fitting (2 - 4)\n\n# Fitting model (2)\nlm_fit1 <- lm_mod %>%\n  fit(BodyTemp ~ RunnyNose, data = SympActAny_new)\nlm_fit1\n\nparsnip model object\n\n\nCall:\nstats::lm(formula = BodyTemp ~ RunnyNose, data = data)\n\nCoefficients:\n (Intercept)  RunnyNoseYes  \n     99.1431       -0.2926  \n\n# Check Model\nglance(lm_fit1)\n\n# A tibble: 1 × 12\n  r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵\n    <dbl>   <dbl> <dbl>   <dbl>   <dbl> <dbl>  <dbl> <dbl> <dbl>   <dbl>   <int>\n1  0.0123  0.0110  1.19    9.08 0.00268     1 -1162. 2329. 2343.   1031.     728\n# … with 1 more variable: nobs <int>, and abbreviated variable names\n#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual\n\ntidy(lm_fit1)\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic p.value\n  <chr>           <dbl>     <dbl>     <dbl>   <dbl>\n1 (Intercept)    99.1      0.0819   1210.   0      \n2 RunnyNoseYes   -0.293    0.0971     -3.01 0.00268\n\ncheck_model(lm_fit1$fit)\n\n\n\n# Generated a function that will apply this for me (Univar)...\nLM_FUN_BT <- function(x) {\n  lm_mod %>%\n    fit(BodyTemp ~ {{x}}, data = SympActAny_new)\n}\n\nLM_FUN_BT(SympActAny_new$RunnyNose)\n\nparsnip model object\n\n\nCall:\nstats::lm(formula = BodyTemp ~ {\n    {\n        x\n    }\n}, data = data)\n\nCoefficients:\n                     (Intercept)  {\\n    {\\n        x\\n    }\\n}Yes  \n                         99.1431                           -0.2926  \n\n# Apply to all columns to produce list...(Univar)\nAll_LIN <- lapply(SympActAny_new, LM_FUN_BT)\n\n\n# Multivar\nlm_all <- lm_mod %>%\n  fit(BodyTemp ~ . ,data = SympActAny_new)\nlm_all\n\nparsnip model object\n\n\nCall:\nstats::lm(formula = BodyTemp ~ ., data = data)\n\nCoefficients:\n           (Intercept)    SwollenLymphNodesYes      ChestCongestionYes  \n             97.925243               -0.165302                0.087326  \n       ChillsSweatsYes      NasalCongestionYes              CoughYNYes  \n              0.201266               -0.215771                0.313893  \n             SneezeYes              FatigueYes      SubjectiveFeverYes  \n             -0.361924                0.264762                0.436837  \n           HeadacheYes            WeaknessMild        WeaknessModerate  \n              0.011453                0.018229                0.098944  \n        WeaknessSevere           WeaknessYNYes      CoughIntensityMild  \n              0.373435                      NA                0.084881  \nCoughIntensityModerate    CoughIntensitySevere             CoughYN2Yes  \n             -0.061384               -0.037272                      NA  \n           MyalgiaMild         MyalgiaModerate           MyalgiaSevere  \n              0.164242               -0.024064               -0.129263  \n          MyalgiaYNYes            RunnyNoseYes               AbPainYes  \n                    NA               -0.080485                0.031574  \n          ChestPainYes             DiarrheaYes                EyePnYes  \n              0.105071               -0.156806                0.131544  \n           InsomniaYes             ItchyEyeYes               NauseaYes  \n             -0.006824               -0.008016               -0.034066  \n              EarPnYes              HearingYes          PharyngitisYes  \n              0.093790                0.232203                0.317581  \n         BreathlessYes              ToothPnYes               VisionYes  \n              0.090526               -0.022876               -0.274625  \n              VomitYes               WheezeYes  \n              0.165272               -0.046665  \n\n# Check Multivar\nglance(lm_all)\n\n# A tibble: 1 × 12\n  r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵\n    <dbl>   <dbl> <dbl>   <dbl>   <dbl> <dbl>  <dbl> <dbl> <dbl>   <dbl>   <int>\n1   0.129  0.0860  1.14    3.02 4.20e-8    34 -1116. 2304. 2469.    909.     695\n# … with 1 more variable: nobs <int>, and abbreviated variable names\n#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual\n\ntidy(lm_all)\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic   p.value\n   <chr>                   <dbl>     <dbl>     <dbl>     <dbl>\n 1 (Intercept)           97.9       0.304   322.     0        \n 2 SwollenLymphNodesYes  -0.165     0.0920   -1.80   0.0727   \n 3 ChestCongestionYes     0.0873    0.0975    0.895  0.371    \n 4 ChillsSweatsYes        0.201     0.127     1.58   0.114    \n 5 NasalCongestionYes    -0.216     0.114    -1.90   0.0584   \n 6 CoughYNYes             0.314     0.241     1.30   0.193    \n 7 SneezeYes             -0.362     0.0983   -3.68   0.000249 \n 8 FatigueYes             0.265     0.161     1.65   0.0996   \n 9 SubjectiveFeverYes     0.437     0.103     4.22   0.0000271\n10 HeadacheYes            0.0115    0.125     0.0913 0.927    \n# … with 28 more rows\n\ncheck_model(lm_all$fit)\n\nVariable `Component` is not in your data frame :/\n\n\n\n\n# Compare performance\ncompare_performance(lm_fit1, lm_all)\n\n# Comparison of Model Performance Indices\n\nName    | Model |  AIC (weights) | AICc (weights) |  BIC (weights) |    R2 | R2 (adj.) |  RMSE | Sigma\n------------------------------------------------------------------------------------------------------\nlm_fit1 |   _lm | 2329.3 (<.001) | 2329.4 (<.001) | 2343.1 (>.999) | 0.012 |     0.011 | 1.188 | 1.190\nlm_all  |   _lm | 2303.8 (>.999) | 2307.7 (>.999) | 2469.2 (<.001) | 0.129 |     0.086 | 1.116 | 1.144\n\n\n\n\n\nPrepares model and engine as laid out in ‘Get Started - Build a model tutorial’ on tidymodels website.\n\n## Start GLM Logistic\n\nGLM_mod <- logistic_reg() %>%\n  set_engine(\"glm\")\n\n\n\n\nModel fitting (5 - 7)\n\n# Fitting Model (5)\nGLM_fit1 <- GLM_mod %>%\n  fit(Nausea ~ RunnyNose, data = SympActAny_new)\nGLM_fit1\n\nparsnip model object\n\n\nCall:  stats::glm(formula = Nausea ~ RunnyNose, family = stats::binomial, \n    data = data)\n\nCoefficients:\n (Intercept)  RunnyNoseYes  \n    -0.65781       0.05018  \n\nDegrees of Freedom: 729 Total (i.e. Null);  728 Residual\nNull Deviance:      944.7 \nResidual Deviance: 944.6    AIC: 948.6\n\n# Generate function to apply univar fit to across dataset\nGLM_FUN_NAS <- function(x) {\n  GLM_mod %>%\n    fit(Nausea ~ {{x}}, data = SympActAny_new)\n}\n\n# Apply function for Univar\nAll_LOG <- lapply(SympActAny_new, GLM_FUN_NAS)\n\nWarning: glm.fit: algorithm did not converge\n\n# Multivar (6)\nlog_all <- GLM_mod %>%\n  fit(Nausea ~ ., data = SympActAny_new)\nlog_all\n\nparsnip model object\n\n\nCall:  stats::glm(formula = Nausea ~ ., family = stats::binomial, data = data)\n\nCoefficients:\n           (Intercept)    SwollenLymphNodesYes      ChestCongestionYes  \n              0.222870               -0.251083                0.275554  \n       ChillsSweatsYes      NasalCongestionYes              CoughYNYes  \n              0.274097                0.425817               -0.140423  \n             SneezeYes              FatigueYes      SubjectiveFeverYes  \n              0.176724                0.229062                0.277741  \n           HeadacheYes            WeaknessMild        WeaknessModerate  \n              0.331259               -0.121606                0.310849  \n        WeaknessSevere           WeaknessYNYes      CoughIntensityMild  \n              0.823187                      NA               -0.220794  \nCoughIntensityModerate    CoughIntensitySevere             CoughYN2Yes  \n             -0.362678               -0.950544                      NA  \n           MyalgiaMild         MyalgiaModerate           MyalgiaSevere  \n             -0.004146                0.204743                0.120758  \n          MyalgiaYNYes            RunnyNoseYes               AbPainYes  \n                    NA                0.045324                0.939304  \n          ChestPainYes             DiarrheaYes                EyePnYes  \n              0.070777                1.063934               -0.341991  \n           InsomniaYes             ItchyEyeYes                EarPnYes  \n              0.084175               -0.063364               -0.181719  \n            HearingYes          PharyngitisYes           BreathlessYes  \n              0.323052                0.275364                0.526801  \n            ToothPnYes               VisionYes                VomitYes  \n              0.480649                0.125498                2.458466  \n             WheezeYes                BodyTemp  \n             -0.304435               -0.031246  \n\nDegrees of Freedom: 729 Total (i.e. Null);  695 Residual\nNull Deviance:      944.7 \nResidual Deviance: 751.5    AIC: 821.5\n\n# Check GLM_fit1 (Nausea v RunnyNose)\nglance(GLM_fit1)\n\n# A tibble: 1 × 8\n  null.deviance df.null logLik   AIC   BIC deviance df.residual  nobs\n          <dbl>   <int>  <dbl> <dbl> <dbl>    <dbl>       <int> <int>\n1          945.     729  -472.  949.  958.     945.         728   730\n\ntidy(GLM_fit1)\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic    p.value\n  <chr>           <dbl>     <dbl>     <dbl>      <dbl>\n1 (Intercept)   -0.658      0.145    -4.53  0.00000589\n2 RunnyNoseYes   0.0502     0.172     0.292 0.770     \n\ncheck_model(GLM_fit1$fit)\n\n\n\n# Multivar check\nglance(log_all)\n\n# A tibble: 1 × 8\n  null.deviance df.null logLik   AIC   BIC deviance df.residual  nobs\n          <dbl>   <int>  <dbl> <dbl> <dbl>    <dbl>       <int> <int>\n1          945.     729  -376.  821.  982.     751.         695   730\n\ntidy(log_all)\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic p.value\n   <chr>                   <dbl>     <dbl>     <dbl>   <dbl>\n 1 (Intercept)             0.223     7.83     0.0285  0.977 \n 2 SwollenLymphNodesYes   -0.251     0.196   -1.28    0.200 \n 3 ChestCongestionYes      0.276     0.213    1.30    0.195 \n 4 ChillsSweatsYes         0.274     0.288    0.952   0.341 \n 5 NasalCongestionYes      0.426     0.255    1.67    0.0944\n 6 CoughYNYes             -0.140     0.519   -0.271   0.787 \n 7 SneezeYes               0.177     0.210    0.840   0.401 \n 8 FatigueYes              0.229     0.372    0.616   0.538 \n 9 SubjectiveFeverYes      0.278     0.225    1.23    0.218 \n10 HeadacheYes             0.331     0.285    1.16    0.245 \n# … with 28 more rows\n\ncheck_model(log_all$fit)\n\nVariable `Component` is not in your data frame :/\n\n\n\n\n# Compare performance (GLM_fit1 vs log_all\ncompare_performance(GLM_fit1, log_all)\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\n\n# Comparison of Model Performance Indices\n\nName     | Model | AIC (weights) | AICc (weights) | BIC (weights) | Tjur's R2 |  RMSE | Sigma | Log_loss | Score_log | Score_spherical |   PCP\n----------------------------------------------------------------------------------------------------------------------------------------------\nGLM_fit1 |  _glm | 948.6 (<.001) |  948.6 (<.001) | 957.8 (>.999) | 1.169e-04 | 0.477 | 1.139 |    0.647 |  -107.871 |           0.012 | 0.545\nlog_all  |  _glm | 821.5 (>.999) |  825.1 (>.999) | 982.2 (<.001) |     0.247 | 0.414 | 1.040 |    0.515 |      -Inf |           0.002 | 0.658"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#linear-model",
    "href": "fluanalysis/code/fitting.html#linear-model",
    "title": "fitting",
    "section": "Linear Model",
    "text": "Linear Model\nPrepares model and engine as laid out in ‘Get Started - Build a model tutorial’ on tidymodels website.\n\n# Load packages\n\nlibrary(tidymodels)\n\nWarning: package 'tidymodels' was built under R version 4.2.2\n\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──\n\n\n✔ broom        1.0.3     ✔ rsample      1.1.1\n✔ dials        1.1.0     ✔ tune         1.0.1\n✔ infer        1.0.4     ✔ workflows    1.1.3\n✔ modeldata    1.1.0     ✔ workflowsets 1.0.0\n✔ parsnip      1.0.4     ✔ yardstick    1.1.0\n✔ recipes      1.0.5     \n\n\nWarning: package 'dials' was built under R version 4.2.2\n\n\nWarning: package 'infer' was built under R version 4.2.2\n\n\nWarning: package 'modeldata' was built under R version 4.2.2\n\n\nWarning: package 'parsnip' was built under R version 4.2.2\n\n\nWarning: package 'recipes' was built under R version 4.2.2\n\n\nWarning: package 'rsample' was built under R version 4.2.2\n\n\nWarning: package 'tune' was built under R version 4.2.2\n\n\nWarning: package 'workflows' was built under R version 4.2.2\n\n\nWarning: package 'workflowsets' was built under R version 4.2.2\n\n\nWarning: package 'yardstick' was built under R version 4.2.2\n\n\n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Learn how to get started at https://www.tidymodels.org/start/\n\nlibrary(performance)\n\nWarning: package 'performance' was built under R version 4.2.2\n\n\n\nAttaching package: 'performance'\n\n\nThe following objects are masked from 'package:yardstick':\n\n    mae, rmse\n\nlibrary(vip)\n\nWarning: package 'vip' was built under R version 4.2.2\n\n\n\nAttaching package: 'vip'\n\n\nThe following object is masked from 'package:utils':\n\n    vi\n\n#Prepare linear model with engine\nlinear_reg()\n\nLinear Regression Model Specification (regression)\n\nComputational engine: lm \n\nlm_mod <- linear_reg() %>%\n  set_engine(\"lm\")"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#start-fitting-linear-model",
    "href": "fluanalysis/code/fitting.html#start-fitting-linear-model",
    "title": "fitting",
    "section": "Start Fitting Linear Model",
    "text": "Start Fitting Linear Model\nModel Fitting (2 - 4)\n\n# Fitting model (2)\nlm_fit1 <- lm_mod %>%\n  fit(BodyTemp ~ RunnyNose, data = SympActAny_new)\nlm_fit1\n\nparsnip model object\n\n\nCall:\nstats::lm(formula = BodyTemp ~ RunnyNose, data = data)\n\nCoefficients:\n (Intercept)  RunnyNoseYes  \n     99.1431       -0.2926  \n\n# Check Model\nglance(lm_fit1)\n\n# A tibble: 1 × 12\n  r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵\n    <dbl>   <dbl> <dbl>   <dbl>   <dbl> <dbl>  <dbl> <dbl> <dbl>   <dbl>   <int>\n1  0.0123  0.0110  1.19    9.08 0.00268     1 -1162. 2329. 2343.   1031.     728\n# … with 1 more variable: nobs <int>, and abbreviated variable names\n#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual\n\ntidy(lm_fit1)\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic p.value\n  <chr>           <dbl>     <dbl>     <dbl>   <dbl>\n1 (Intercept)    99.1      0.0819   1210.   0      \n2 RunnyNoseYes   -0.293    0.0971     -3.01 0.00268\n\ncheck_model(lm_fit1$fit)\n\n\n\n# Generated a function that will apply this for me (Univar)...\nLM_FUN_BT <- function(x) {\n  lm_mod %>%\n    fit(BodyTemp ~ {{x}}, data = SympActAny_new)\n}\n\nLM_FUN_BT(SympActAny_new$RunnyNose)\n\nparsnip model object\n\n\nCall:\nstats::lm(formula = BodyTemp ~ {\n    {\n        x\n    }\n}, data = data)\n\nCoefficients:\n                     (Intercept)  {\\n    {\\n        x\\n    }\\n}Yes  \n                         99.1431                           -0.2926  \n\n# Apply to all columns to produce list...(Univar)\nAll_LIN <- lapply(SympActAny_new, LM_FUN_BT)\n\n\n# Multivar\nlm_all <- lm_mod %>%\n  fit(BodyTemp ~ . ,data = SympActAny_new)\nlm_all\n\nparsnip model object\n\n\nCall:\nstats::lm(formula = BodyTemp ~ ., data = data)\n\nCoefficients:\n           (Intercept)    SwollenLymphNodesYes      ChestCongestionYes  \n             97.925243               -0.165302                0.087326  \n       ChillsSweatsYes      NasalCongestionYes              CoughYNYes  \n              0.201266               -0.215771                0.313893  \n             SneezeYes              FatigueYes      SubjectiveFeverYes  \n             -0.361924                0.264762                0.436837  \n           HeadacheYes            WeaknessMild        WeaknessModerate  \n              0.011453                0.018229                0.098944  \n        WeaknessSevere           WeaknessYNYes      CoughIntensityMild  \n              0.373435                      NA                0.084881  \nCoughIntensityModerate    CoughIntensitySevere             CoughYN2Yes  \n             -0.061384               -0.037272                      NA  \n           MyalgiaMild         MyalgiaModerate           MyalgiaSevere  \n              0.164242               -0.024064               -0.129263  \n          MyalgiaYNYes            RunnyNoseYes               AbPainYes  \n                    NA               -0.080485                0.031574  \n          ChestPainYes             DiarrheaYes                EyePnYes  \n              0.105071               -0.156806                0.131544  \n           InsomniaYes             ItchyEyeYes               NauseaYes  \n             -0.006824               -0.008016               -0.034066  \n              EarPnYes              HearingYes          PharyngitisYes  \n              0.093790                0.232203                0.317581  \n         BreathlessYes              ToothPnYes               VisionYes  \n              0.090526               -0.022876               -0.274625  \n              VomitYes               WheezeYes  \n              0.165272               -0.046665  \n\n# Check Multivar\nglance(lm_all)\n\n# A tibble: 1 × 12\n  r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵\n    <dbl>   <dbl> <dbl>   <dbl>   <dbl> <dbl>  <dbl> <dbl> <dbl>   <dbl>   <int>\n1   0.129  0.0860  1.14    3.02 4.20e-8    34 -1116. 2304. 2469.    909.     695\n# … with 1 more variable: nobs <int>, and abbreviated variable names\n#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual\n\ntidy(lm_all)\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic   p.value\n   <chr>                   <dbl>     <dbl>     <dbl>     <dbl>\n 1 (Intercept)           97.9       0.304   322.     0        \n 2 SwollenLymphNodesYes  -0.165     0.0920   -1.80   0.0727   \n 3 ChestCongestionYes     0.0873    0.0975    0.895  0.371    \n 4 ChillsSweatsYes        0.201     0.127     1.58   0.114    \n 5 NasalCongestionYes    -0.216     0.114    -1.90   0.0584   \n 6 CoughYNYes             0.314     0.241     1.30   0.193    \n 7 SneezeYes             -0.362     0.0983   -3.68   0.000249 \n 8 FatigueYes             0.265     0.161     1.65   0.0996   \n 9 SubjectiveFeverYes     0.437     0.103     4.22   0.0000271\n10 HeadacheYes            0.0115    0.125     0.0913 0.927    \n# … with 28 more rows\n\ncheck_model(lm_all$fit)\n\nVariable `Component` is not in your data frame :/\n\n\n\n\n# Compare performance\ncompare_performance(lm_fit1, lm_all)\n\n# Comparison of Model Performance Indices\n\nName    | Model |  AIC (weights) | AICc (weights) |  BIC (weights) |    R2 | R2 (adj.) |  RMSE | Sigma\n------------------------------------------------------------------------------------------------------\nlm_fit1 |   _lm | 2329.3 (<.001) | 2329.4 (<.001) | 2343.1 (>.999) | 0.012 |     0.011 | 1.188 | 1.190\nlm_all  |   _lm | 2303.8 (>.999) | 2307.7 (>.999) | 2469.2 (<.001) | 0.129 |     0.086 | 1.116 | 1.144"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#logistic-model-with-engine",
    "href": "fluanalysis/code/fitting.html#logistic-model-with-engine",
    "title": "fitting",
    "section": "Logistic Model with engine",
    "text": "Logistic Model with engine\nPrepares model and engine as laid out in ‘Get Started - Build a model tutorial’ on tidymodels website.\n\n## Start GLM Logistic\n\nGLM_mod <- logistic_reg() %>%\n  set_engine(\"glm\")"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#start-fitting-logistic-model",
    "href": "fluanalysis/code/fitting.html#start-fitting-logistic-model",
    "title": "fitting",
    "section": "Start fitting Logistic Model",
    "text": "Start fitting Logistic Model\nModel fitting (5 - 7)\n\n# Fitting Model (5)\nGLM_fit1 <- GLM_mod %>%\n  fit(Nausea ~ RunnyNose, data = SympActAny_new)\nGLM_fit1\n\nparsnip model object\n\n\nCall:  stats::glm(formula = Nausea ~ RunnyNose, family = stats::binomial, \n    data = data)\n\nCoefficients:\n (Intercept)  RunnyNoseYes  \n    -0.65781       0.05018  \n\nDegrees of Freedom: 729 Total (i.e. Null);  728 Residual\nNull Deviance:      944.7 \nResidual Deviance: 944.6    AIC: 948.6\n\n# Generate function to apply univar fit to across dataset\nGLM_FUN_NAS <- function(x) {\n  GLM_mod %>%\n    fit(Nausea ~ {{x}}, data = SympActAny_new)\n}\n\n# Apply function for Univar\nAll_LOG <- lapply(SympActAny_new, GLM_FUN_NAS)\n\nWarning: glm.fit: algorithm did not converge\n\n# Multivar (6)\nlog_all <- GLM_mod %>%\n  fit(Nausea ~ ., data = SympActAny_new)\nlog_all\n\nparsnip model object\n\n\nCall:  stats::glm(formula = Nausea ~ ., family = stats::binomial, data = data)\n\nCoefficients:\n           (Intercept)    SwollenLymphNodesYes      ChestCongestionYes  \n              0.222870               -0.251083                0.275554  \n       ChillsSweatsYes      NasalCongestionYes              CoughYNYes  \n              0.274097                0.425817               -0.140423  \n             SneezeYes              FatigueYes      SubjectiveFeverYes  \n              0.176724                0.229062                0.277741  \n           HeadacheYes            WeaknessMild        WeaknessModerate  \n              0.331259               -0.121606                0.310849  \n        WeaknessSevere           WeaknessYNYes      CoughIntensityMild  \n              0.823187                      NA               -0.220794  \nCoughIntensityModerate    CoughIntensitySevere             CoughYN2Yes  \n             -0.362678               -0.950544                      NA  \n           MyalgiaMild         MyalgiaModerate           MyalgiaSevere  \n             -0.004146                0.204743                0.120758  \n          MyalgiaYNYes            RunnyNoseYes               AbPainYes  \n                    NA                0.045324                0.939304  \n          ChestPainYes             DiarrheaYes                EyePnYes  \n              0.070777                1.063934               -0.341991  \n           InsomniaYes             ItchyEyeYes                EarPnYes  \n              0.084175               -0.063364               -0.181719  \n            HearingYes          PharyngitisYes           BreathlessYes  \n              0.323052                0.275364                0.526801  \n            ToothPnYes               VisionYes                VomitYes  \n              0.480649                0.125498                2.458466  \n             WheezeYes                BodyTemp  \n             -0.304435               -0.031246  \n\nDegrees of Freedom: 729 Total (i.e. Null);  695 Residual\nNull Deviance:      944.7 \nResidual Deviance: 751.5    AIC: 821.5\n\n# Check GLM_fit1 (Nausea v RunnyNose)\nglance(GLM_fit1)\n\n# A tibble: 1 × 8\n  null.deviance df.null logLik   AIC   BIC deviance df.residual  nobs\n          <dbl>   <int>  <dbl> <dbl> <dbl>    <dbl>       <int> <int>\n1          945.     729  -472.  949.  958.     945.         728   730\n\ntidy(GLM_fit1)\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic    p.value\n  <chr>           <dbl>     <dbl>     <dbl>      <dbl>\n1 (Intercept)   -0.658      0.145    -4.53  0.00000589\n2 RunnyNoseYes   0.0502     0.172     0.292 0.770     \n\ncheck_model(GLM_fit1$fit)\n\n\n\n# Multivar check\nglance(log_all)\n\n# A tibble: 1 × 8\n  null.deviance df.null logLik   AIC   BIC deviance df.residual  nobs\n          <dbl>   <int>  <dbl> <dbl> <dbl>    <dbl>       <int> <int>\n1          945.     729  -376.  821.  982.     751.         695   730\n\ntidy(log_all)\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic p.value\n   <chr>                   <dbl>     <dbl>     <dbl>   <dbl>\n 1 (Intercept)             0.223     7.83     0.0285  0.977 \n 2 SwollenLymphNodesYes   -0.251     0.196   -1.28    0.200 \n 3 ChestCongestionYes      0.276     0.213    1.30    0.195 \n 4 ChillsSweatsYes         0.274     0.288    0.952   0.341 \n 5 NasalCongestionYes      0.426     0.255    1.67    0.0944\n 6 CoughYNYes             -0.140     0.519   -0.271   0.787 \n 7 SneezeYes               0.177     0.210    0.840   0.401 \n 8 FatigueYes              0.229     0.372    0.616   0.538 \n 9 SubjectiveFeverYes      0.278     0.225    1.23    0.218 \n10 HeadacheYes             0.331     0.285    1.16    0.245 \n# … with 28 more rows\n\ncheck_model(log_all$fit)\n\nVariable `Component` is not in your data frame :/\n\n\n\n\n# Compare performance (GLM_fit1 vs log_all\ncompare_performance(GLM_fit1, log_all)\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\n\n# Comparison of Model Performance Indices\n\nName     | Model | AIC (weights) | AICc (weights) | BIC (weights) | Tjur's R2 |  RMSE | Sigma | Log_loss | Score_log | Score_spherical |   PCP\n----------------------------------------------------------------------------------------------------------------------------------------------\nGLM_fit1 |  _glm | 948.6 (<.001) |  948.6 (<.001) | 957.8 (>.999) | 1.169e-04 | 0.477 | 1.139 |    0.647 |  -107.871 |           0.012 | 0.545\nlog_all  |  _glm | 821.5 (>.999) |  825.1 (>.999) | 982.2 (<.001) |     0.247 | 0.414 | 1.040 |    0.515 |      -Inf |           0.002 | 0.658"
  },
  {
    "objectID": "fluanalysis/code/wrangling.html",
    "href": "fluanalysis/code/wrangling.html",
    "title": "wrangling",
    "section": "",
    "text": "# Loading packages\nsetwd(\"../\")\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.0\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(here)\n\nhere() starts at C:/Users/conno/Documents/MADA/connorross-MADA-portfolio\n\nlibrary(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──\n✔ broom        1.0.4     ✔ rsample      1.1.1\n✔ dials        1.1.0     ✔ tune         1.0.1\n✔ infer        1.0.4     ✔ workflows    1.1.3\n✔ modeldata    1.1.0     ✔ workflowsets 1.0.0\n✔ parsnip      1.0.4     ✔ yardstick    1.1.0\n✔ recipes      1.0.5     \n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Dig deeper into tidy modeling with R at https://www.tmwr.org\n\n# There were issues with importing the data file without the full path even after resetting my workingdirectory. Issue documented in '#I_have_a_question_or_need_help' Channel in course Slack on 02/28/2023 (see Kailin Chen thread)\n\n\ngetwd()\n\n[1] \"C:/Users/conno/Documents/MADA/connorross-MADA-portfolio/fluanalysis\"\n\nSympActAny_raw <- readRDS(file = \"data/raw_data/SympAct_Any_Pos.Rda\")\n\n# Check the data\nlibrary(tidyverse)\nglimpse(SympActAny_raw)\n\nRows: 735\nColumns: 63\n$ DxName1           <fct> \"Influenza like illness - Clinical Dx\", \"Acute tonsi…\n$ DxName2           <fct> NA, \"Influenza like illness - Clinical Dx\", \"Acute p…\n$ DxName3           <fct> NA, NA, NA, NA, NA, NA, NA, NA, \"Fever, unspecified\"…\n$ DxName4           <fct> NA, NA, NA, NA, NA, NA, NA, NA, \"Other fatigue\", NA,…\n$ DxName5           <fct> NA, NA, NA, NA, NA, NA, NA, NA, \"Headache\", NA, NA, …\n$ Unique.Visit      <chr> \"340_17632125\", \"340_17794836\", \"342_17737773\", \"342…\n$ ActivityLevel     <int> 10, 6, 2, 2, 5, 3, 4, 0, 0, 5, 9, 1, 3, 6, 5, 2, 2, …\n$ ActivityLevelF    <fct> 10, 6, 2, 2, 5, 3, 4, 0, 0, 5, 9, 1, 3, 6, 5, 2, 2, …\n$ SwollenLymphNodes <fct> Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, No, Yes, Y…\n$ ChestCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ ChillsSweats      <fct> No, No, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, …\n$ NasalCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ CoughYN           <fct> Yes, Yes, No, Yes, No, Yes, Yes, Yes, Yes, Yes, No, …\n$ Sneeze            <fct> No, No, Yes, Yes, No, Yes, No, Yes, No, No, No, No, …\n$ Fatigue           <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ SubjectiveFever   <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes…\n$ Headache          <fct> Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes…\n$ Weakness          <fct> Mild, Severe, Severe, Severe, Moderate, Moderate, Mi…\n$ WeaknessYN        <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ CoughIntensity    <fct> Severe, Severe, Mild, Moderate, None, Moderate, Seve…\n$ CoughYN2          <fct> Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes, Yes, Yes…\n$ Myalgia           <fct> Mild, Severe, Severe, Severe, Mild, Moderate, Mild, …\n$ MyalgiaYN         <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ RunnyNose         <fct> No, No, Yes, Yes, No, No, Yes, Yes, Yes, Yes, No, No…\n$ AbPain            <fct> No, No, Yes, No, No, No, No, No, No, No, Yes, Yes, N…\n$ ChestPain         <fct> No, No, Yes, No, No, Yes, Yes, No, No, No, No, Yes, …\n$ Diarrhea          <fct> No, No, No, No, No, Yes, No, No, No, No, No, No, No,…\n$ EyePn             <fct> No, No, No, No, Yes, No, No, No, No, No, Yes, No, Ye…\n$ Insomnia          <fct> No, No, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Yes, Y…\n$ ItchyEye          <fct> No, No, No, No, No, No, No, No, No, No, No, No, Yes,…\n$ Nausea            <fct> No, No, Yes, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Y…\n$ EarPn             <fct> No, Yes, No, Yes, No, No, No, No, No, No, No, Yes, Y…\n$ Hearing           <fct> No, Yes, No, No, No, No, No, No, No, No, No, No, No,…\n$ Pharyngitis       <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, …\n$ Breathless        <fct> No, No, Yes, No, No, Yes, No, No, No, Yes, No, Yes, …\n$ ToothPn           <fct> No, No, Yes, No, No, No, No, No, Yes, No, No, Yes, N…\n$ Vision            <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, …\n$ Vomit             <fct> No, No, No, No, No, No, Yes, No, No, No, Yes, Yes, N…\n$ Wheeze            <fct> No, No, No, Yes, No, Yes, No, No, No, No, No, Yes, N…\n$ BodyTemp          <dbl> 98.3, 100.4, 100.8, 98.8, 100.5, 98.4, 102.5, 98.4, …\n$ RapidFluA         <fct> Presumptive Negative For Influenza A, NA, Presumptiv…\n$ RapidFluB         <fct> Presumptive Negative For Influenza B, NA, Presumptiv…\n$ PCRFluA           <fct> NA, NA, NA, NA, NA, NA,  Influenza A Not Detected, N…\n$ PCRFluB           <fct> NA, NA, NA, NA, NA, NA,  Influenza B Not Detected, N…\n$ TransScore1       <dbl> 1, 3, 4, 5, 0, 2, 2, 5, 4, 4, 2, 3, 2, 5, 3, 5, 1, 5…\n$ TransScore1F      <fct> 1, 3, 4, 5, 0, 2, 2, 5, 4, 4, 2, 3, 2, 5, 3, 5, 1, 5…\n$ TransScore2       <dbl> 1, 2, 3, 4, 0, 2, 2, 4, 3, 3, 1, 2, 2, 4, 2, 4, 1, 4…\n$ TransScore2F      <fct> 1, 2, 3, 4, 0, 2, 2, 4, 3, 3, 1, 2, 2, 4, 2, 4, 1, 4…\n$ TransScore3       <dbl> 1, 1, 2, 3, 0, 2, 2, 3, 2, 2, 0, 1, 1, 3, 1, 3, 1, 3…\n$ TransScore3F      <fct> 1, 1, 2, 3, 0, 2, 2, 3, 2, 2, 0, 1, 1, 3, 1, 3, 1, 3…\n$ TransScore4       <dbl> 0, 2, 4, 4, 0, 1, 1, 4, 3, 3, 2, 2, 2, 4, 3, 4, 0, 4…\n$ TransScore4F      <fct> 0, 2, 4, 4, 0, 1, 1, 4, 3, 3, 2, 2, 2, 4, 3, 4, 0, 4…\n$ ImpactScore       <int> 7, 8, 14, 12, 11, 12, 8, 7, 10, 7, 13, 17, 11, 13, 9…\n$ ImpactScore2      <int> 6, 7, 13, 11, 10, 11, 7, 6, 9, 6, 12, 16, 10, 12, 8,…\n$ ImpactScore3      <int> 3, 4, 9, 7, 6, 7, 3, 3, 6, 4, 7, 11, 6, 8, 4, 4, 5, …\n$ ImpactScoreF      <fct> 7, 8, 14, 12, 11, 12, 8, 7, 10, 7, 13, 17, 11, 13, 9…\n$ ImpactScore2F     <fct> 6, 7, 13, 11, 10, 11, 7, 6, 9, 6, 12, 16, 10, 12, 8,…\n$ ImpactScore3F     <fct> 3, 4, 9, 7, 6, 7, 3, 3, 6, 4, 7, 11, 6, 8, 4, 4, 5, …\n$ ImpactScoreFD     <fct> 7, 8, 14, 12, 11, 12, 8, 7, 10, 7, 13, 17, 11, 13, 9…\n$ TotalSymp1        <dbl> 8, 11, 18, 17, 11, 14, 10, 12, 14, 11, 15, 20, 13, 1…\n$ TotalSymp1F       <fct> 8, 11, 18, 17, 11, 14, 10, 12, 14, 11, 15, 20, 13, 1…\n$ TotalSymp2        <dbl> 8, 10, 17, 16, 11, 14, 10, 11, 13, 10, 14, 19, 13, 1…\n$ TotalSymp3        <dbl> 8, 9, 16, 15, 11, 14, 10, 10, 12, 9, 13, 18, 12, 16,…\n\nstr(SympActAny_raw)\n\n'data.frame':   735 obs. of  63 variables:\n $ DxName1          : Factor w/ 92 levels \"Acute bronchitis, unspecified\",..: 57 16 57 57 9 57 39 17 57 57 ...\n $ DxName2          : Factor w/ 142 levels \"14 weeks gestation of pregnancy\",..: NA 69 11 129 69 NA 69 60 12 NA ...\n $ DxName3          : Factor w/ 92 levels \"Abnormal weight loss\",..: NA NA NA NA NA NA NA NA 38 NA ...\n $ DxName4          : Factor w/ 41 levels \"Acute bronchitis, unspecified\",..: NA NA NA NA NA NA NA NA 30 NA ...\n $ DxName5          : Factor w/ 5 levels \"Acute suppurative otitis media without spontaneous rupture of ear drum, right ear\",..: NA NA NA NA NA NA NA NA 3 NA ...\n $ Unique.Visit     : chr  \"340_17632125\" \"340_17794836\" \"342_17737773\" \"342_17806002\" ...\n $ ActivityLevel    : int  10 6 2 2 5 3 4 0 0 5 ...\n  ..- attr(*, \"label\")= chr \"Activity Level\"\n $ ActivityLevelF   : Factor w/ 11 levels \"0\",\"1\",\"2\",\"3\",..: 11 7 3 3 6 4 5 1 1 6 ...\n $ SwollenLymphNodes: Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 1 1 1 2 1 ...\n  ..- attr(*, \"label\")= chr \"Swollen Lymph Nodes\"\n $ ChestCongestion  : Factor w/ 2 levels \"No\",\"Yes\": 1 2 2 2 1 1 1 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Chest Congestion\"\n $ ChillsSweats     : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 2 2 2 2 2 2 1 ...\n  ..- attr(*, \"label\")= chr \"Chills/Sweats\"\n $ NasalCongestion  : Factor w/ 2 levels \"No\",\"Yes\": 1 2 2 2 1 1 1 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Nasal Congestion\"\n $ CoughYN          : Factor w/ 2 levels \"No\",\"Yes\": 2 2 1 2 1 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Cough\"\n $ Sneeze           : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 2 1 2 1 2 1 1 ...\n  ..- attr(*, \"label\")= chr \"Sneeze\"\n $ Fatigue          : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Fatigue\"\n $ SubjectiveFever  : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 2 2 2 2 1 ...\n  ..- attr(*, \"label\")= chr \"Subjective Fever\"\n $ Headache         : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 2 1 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Headache\"\n $ Weakness         : Factor w/ 4 levels \"None\",\"Mild\",..: 2 4 4 4 3 3 2 4 3 3 ...\n $ WeaknessYN       : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Weakness\"\n $ CoughIntensity   : Factor w/ 4 levels \"None\",\"Mild\",..: 4 4 2 3 1 3 4 3 3 3 ...\n  ..- attr(*, \"label\")= chr \"Cough Severity\"\n $ CoughYN2         : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 1 2 2 2 2 2 ...\n $ Myalgia          : Factor w/ 4 levels \"None\",\"Mild\",..: 2 4 4 4 2 3 2 4 3 2 ...\n $ MyalgiaYN        : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Myalgia\"\n $ RunnyNose        : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 2 1 1 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Runny Nose\"\n $ AbPain           : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 1 1 1 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Abdominal Pain\"\n $ ChestPain        : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 1 1 2 2 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Chest Pain\"\n $ Diarrhea         : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 2 1 1 1 1 ...\n $ EyePn            : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 2 1 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Eye Pain\"\n $ Insomnia         : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 2 2 1 1 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Sleeplessness\"\n $ ItchyEye         : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Itchy Eyes\"\n $ Nausea           : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 2 2 2 1 1 2 2 ...\n $ EarPn            : Factor w/ 2 levels \"No\",\"Yes\": 1 2 1 2 1 1 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Ear Pain\"\n $ Hearing          : Factor w/ 2 levels \"No\",\"Yes\": 1 2 1 1 1 1 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Loss of Hearing\"\n $ Pharyngitis      : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 2 2 2 2 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Sore Throat\"\n $ Breathless       : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 1 1 2 1 1 1 2 ...\n  ..- attr(*, \"label\")= chr \"Breathlessness\"\n $ ToothPn          : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 1 1 1 1 1 2 1 ...\n  ..- attr(*, \"label\")= chr \"Tooth Pain\"\n $ Vision           : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Blurred Vision\"\n $ Vomit            : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 2 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Vomiting\"\n $ Wheeze           : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 2 1 2 1 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Wheezing\"\n $ BodyTemp         : num  98.3 100.4 100.8 98.8 100.5 ...\n $ RapidFluA        : Factor w/ 2 levels \"Positive for Influenza A\",..: 2 NA 2 2 NA NA NA 1 2 2 ...\n $ RapidFluB        : Factor w/ 2 levels \"Positive for Influenza B\",..: 2 NA 2 2 NA NA NA 2 2 2 ...\n $ PCRFluA          : Factor w/ 4 levels \" Influenza A Detected\",..: NA NA NA NA NA NA 2 NA NA NA ...\n $ PCRFluB          : Factor w/ 3 levels \" Influenza B Detected\",..: NA NA NA NA NA NA 2 NA NA NA ...\n $ TransScore1      : num  1 3 4 5 0 2 2 5 4 4 ...\n $ TransScore1F     : Factor w/ 6 levels \"0\",\"1\",\"2\",\"3\",..: 2 4 5 6 1 3 3 6 5 5 ...\n  ..- attr(*, \"label\")= chr \"Infectiousness Score\"\n $ TransScore2      : num  1 2 3 4 0 2 2 4 3 3 ...\n $ TransScore2F     : Factor w/ 5 levels \"0\",\"1\",\"2\",\"3\",..: 2 3 4 5 1 3 3 5 4 4 ...\n  ..- attr(*, \"label\")= chr \"Infectiousness Score\"\n $ TransScore3      : num  1 1 2 3 0 2 2 3 2 2 ...\n $ TransScore3F     : Factor w/ 4 levels \"0\",\"1\",\"2\",\"3\": 2 2 3 4 1 3 3 4 3 3 ...\n  ..- attr(*, \"label\")= chr \"Infectiousness Score\"\n $ TransScore4      : num  0 2 4 4 0 1 1 4 3 3 ...\n $ TransScore4F     : Factor w/ 5 levels \"0\",\"1\",\"2\",\"3\",..: 1 3 5 5 1 2 2 5 4 4 ...\n $ ImpactScore      : int  7 8 14 12 11 12 8 7 10 7 ...\n $ ImpactScore2     : int  6 7 13 11 10 11 7 6 9 6 ...\n $ ImpactScore3     : int  3 4 9 7 6 7 3 3 6 4 ...\n $ ImpactScoreF     : Factor w/ 21 levels \"0\",\"1\",\"2\",\"3\",..: 8 9 15 13 12 13 9 8 11 8 ...\n  ..- attr(*, \"label\")= chr \"Morbidity Score\"\n $ ImpactScore2F    : Factor w/ 19 levels \"0\",\"1\",\"2\",\"3\",..: 7 8 14 12 11 12 8 7 10 7 ...\n  ..- attr(*, \"label\")= chr \"Morbidity Score\"\n $ ImpactScore3F    : Factor w/ 15 levels \"0\",\"1\",\"2\",\"3\",..: 4 5 10 8 7 8 4 4 7 5 ...\n  ..- attr(*, \"label\")= chr \"Morbidity Score\"\n $ ImpactScoreFD    : Factor w/ 17 levels \"2\",\"3\",\"4\",\"5\",..: 6 7 13 11 10 11 7 6 9 6 ...\n $ TotalSymp1       : num  8 11 18 17 11 14 10 12 14 11 ...\n $ TotalSymp1F      : Factor w/ 19 levels \"5\",\"6\",\"7\",\"8\",..: 4 7 14 13 7 10 6 8 10 7 ...\n $ TotalSymp2       : num  8 10 17 16 11 14 10 11 13 10 ...\n $ TotalSymp3       : num  8 9 16 15 11 14 10 10 12 9 ...\n\n\n\n\n\n\n# Let's tidy-up our data\n\n## Removing 'Score' 'Total' 'FluA' 'FluB' 'Dxname' 'Activity' as well as removing 'Unique.Visit' and any NAs\n\nSympActAny_new <- SympActAny_raw %>%\n  select(- (contains(\"Score\") | contains(\"Total\") | contains(\"FluA\") | contains(\"FluB\") | contains(\"DxName\") | contains(\"Activity\"))) %>%\n  select(!Unique.Visit) %>%\n  na.omit()\n\n### Check\napply(SympActAny_new, 2, function(x) any(is.na(x)))\n\nSwollenLymphNodes   ChestCongestion      ChillsSweats   NasalCongestion \n            FALSE             FALSE             FALSE             FALSE \n          CoughYN            Sneeze           Fatigue   SubjectiveFever \n            FALSE             FALSE             FALSE             FALSE \n         Headache          Weakness        WeaknessYN    CoughIntensity \n            FALSE             FALSE             FALSE             FALSE \n         CoughYN2           Myalgia         MyalgiaYN         RunnyNose \n            FALSE             FALSE             FALSE             FALSE \n           AbPain         ChestPain          Diarrhea             EyePn \n            FALSE             FALSE             FALSE             FALSE \n         Insomnia          ItchyEye            Nausea             EarPn \n            FALSE             FALSE             FALSE             FALSE \n          Hearing       Pharyngitis        Breathless           ToothPn \n            FALSE             FALSE             FALSE             FALSE \n           Vision             Vomit            Wheeze          BodyTemp \n            FALSE             FALSE             FALSE             FALSE \n\nglimpse(SympActAny_new)\n\nRows: 730\nColumns: 32\n$ SwollenLymphNodes <fct> Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, No, Yes, Y…\n$ ChestCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ ChillsSweats      <fct> No, No, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, …\n$ NasalCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ CoughYN           <fct> Yes, Yes, No, Yes, No, Yes, Yes, Yes, Yes, Yes, No, …\n$ Sneeze            <fct> No, No, Yes, Yes, No, Yes, No, Yes, No, No, No, No, …\n$ Fatigue           <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ SubjectiveFever   <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes…\n$ Headache          <fct> Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes…\n$ Weakness          <fct> Mild, Severe, Severe, Severe, Moderate, Moderate, Mi…\n$ WeaknessYN        <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ CoughIntensity    <fct> Severe, Severe, Mild, Moderate, None, Moderate, Seve…\n$ CoughYN2          <fct> Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes, Yes, Yes…\n$ Myalgia           <fct> Mild, Severe, Severe, Severe, Mild, Moderate, Mild, …\n$ MyalgiaYN         <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ RunnyNose         <fct> No, No, Yes, Yes, No, No, Yes, Yes, Yes, Yes, No, No…\n$ AbPain            <fct> No, No, Yes, No, No, No, No, No, No, No, Yes, Yes, N…\n$ ChestPain         <fct> No, No, Yes, No, No, Yes, Yes, No, No, No, No, Yes, …\n$ Diarrhea          <fct> No, No, No, No, No, Yes, No, No, No, No, No, No, No,…\n$ EyePn             <fct> No, No, No, No, Yes, No, No, No, No, No, Yes, No, Ye…\n$ Insomnia          <fct> No, No, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Yes, Y…\n$ ItchyEye          <fct> No, No, No, No, No, No, No, No, No, No, No, No, Yes,…\n$ Nausea            <fct> No, No, Yes, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Y…\n$ EarPn             <fct> No, Yes, No, Yes, No, No, No, No, No, No, No, Yes, Y…\n$ Hearing           <fct> No, Yes, No, No, No, No, No, No, No, No, No, No, No,…\n$ Pharyngitis       <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, …\n$ Breathless        <fct> No, No, Yes, No, No, Yes, No, No, No, Yes, No, Yes, …\n$ ToothPn           <fct> No, No, Yes, No, No, No, No, No, Yes, No, No, Yes, N…\n$ Vision            <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, …\n$ Vomit             <fct> No, No, No, No, No, No, Yes, No, No, No, Yes, Yes, N…\n$ Wheeze            <fct> No, No, No, Yes, No, Yes, No, No, No, No, No, Yes, N…\n$ BodyTemp          <dbl> 98.3, 100.4, 100.8, 98.8, 100.5, 98.4, 102.5, 98.4, …\n\nncol(SympActAny_new)\n\n[1] 32\n\nnrow(SympActAny_new)\n\n[1] 730\n\n### 730 obs of 32 variables resulting"
  },
  {
    "objectID": "fluanalysis/code/wrangling.html#scrub-a-dub-dub",
    "href": "fluanalysis/code/wrangling.html#scrub-a-dub-dub",
    "title": "wrangling",
    "section": "Scrub-a-dub-dub",
    "text": "Scrub-a-dub-dub\n\n# Let's tidy-up our data\n\n## Removing 'Score' 'Total' 'FluA' 'FluB' 'Dxname' 'Activity' as well as removing 'Unique.Visit' and any NAs\n\nSympActAny_new <- SympActAny_raw %>%\n  select(- (contains(\"Score\") | contains(\"Total\") | contains(\"FluA\") | contains(\"FluB\") | contains(\"DxName\") | contains(\"Activity\"))) %>%\n  select(!Unique.Visit) %>%\n  na.omit()\n\n### Check\napply(SympActAny_new, 2, function(x) any(is.na(x)))\n\nSwollenLymphNodes   ChestCongestion      ChillsSweats   NasalCongestion \n            FALSE             FALSE             FALSE             FALSE \n          CoughYN            Sneeze           Fatigue   SubjectiveFever \n            FALSE             FALSE             FALSE             FALSE \n         Headache          Weakness        WeaknessYN    CoughIntensity \n            FALSE             FALSE             FALSE             FALSE \n         CoughYN2           Myalgia         MyalgiaYN         RunnyNose \n            FALSE             FALSE             FALSE             FALSE \n           AbPain         ChestPain          Diarrhea             EyePn \n            FALSE             FALSE             FALSE             FALSE \n         Insomnia          ItchyEye            Nausea             EarPn \n            FALSE             FALSE             FALSE             FALSE \n          Hearing       Pharyngitis        Breathless           ToothPn \n            FALSE             FALSE             FALSE             FALSE \n           Vision             Vomit            Wheeze          BodyTemp \n            FALSE             FALSE             FALSE             FALSE \n\nglimpse(SympActAny_new)\n\nRows: 730\nColumns: 32\n$ SwollenLymphNodes <fct> Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, No, Yes, Y…\n$ ChestCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ ChillsSweats      <fct> No, No, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, …\n$ NasalCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ CoughYN           <fct> Yes, Yes, No, Yes, No, Yes, Yes, Yes, Yes, Yes, No, …\n$ Sneeze            <fct> No, No, Yes, Yes, No, Yes, No, Yes, No, No, No, No, …\n$ Fatigue           <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ SubjectiveFever   <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes…\n$ Headache          <fct> Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes…\n$ Weakness          <fct> Mild, Severe, Severe, Severe, Moderate, Moderate, Mi…\n$ WeaknessYN        <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ CoughIntensity    <fct> Severe, Severe, Mild, Moderate, None, Moderate, Seve…\n$ CoughYN2          <fct> Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes, Yes, Yes…\n$ Myalgia           <fct> Mild, Severe, Severe, Severe, Mild, Moderate, Mild, …\n$ MyalgiaYN         <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ RunnyNose         <fct> No, No, Yes, Yes, No, No, Yes, Yes, Yes, Yes, No, No…\n$ AbPain            <fct> No, No, Yes, No, No, No, No, No, No, No, Yes, Yes, N…\n$ ChestPain         <fct> No, No, Yes, No, No, Yes, Yes, No, No, No, No, Yes, …\n$ Diarrhea          <fct> No, No, No, No, No, Yes, No, No, No, No, No, No, No,…\n$ EyePn             <fct> No, No, No, No, Yes, No, No, No, No, No, Yes, No, Ye…\n$ Insomnia          <fct> No, No, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Yes, Y…\n$ ItchyEye          <fct> No, No, No, No, No, No, No, No, No, No, No, No, Yes,…\n$ Nausea            <fct> No, No, Yes, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Y…\n$ EarPn             <fct> No, Yes, No, Yes, No, No, No, No, No, No, No, Yes, Y…\n$ Hearing           <fct> No, Yes, No, No, No, No, No, No, No, No, No, No, No,…\n$ Pharyngitis       <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, …\n$ Breathless        <fct> No, No, Yes, No, No, Yes, No, No, No, Yes, No, Yes, …\n$ ToothPn           <fct> No, No, Yes, No, No, No, No, No, Yes, No, No, Yes, N…\n$ Vision            <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, …\n$ Vomit             <fct> No, No, No, No, No, No, Yes, No, No, No, Yes, Yes, N…\n$ Wheeze            <fct> No, No, No, Yes, No, Yes, No, No, No, No, No, Yes, N…\n$ BodyTemp          <dbl> 98.3, 100.4, 100.8, 98.8, 100.5, 98.4, 102.5, 98.4, …\n\nncol(SympActAny_new)\n\n[1] 32\n\nnrow(SympActAny_new)\n\n[1] 730\n\n### 730 obs of 32 variables resulting\n\n# Save cleaned set \nsaveRDS(SympActAny_new, file = \"../data/processed_data/SympActAny_new.rds\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "My website and data analysis portfolio",
    "section": "",
    "text": "Hello\n\nAnd hello again\nWelcome to my website and data analysis portfolio.\n\nPlease use the Menu Bar above to look around.\nHave fun!"
  },
  {
    "objectID": "tidytuesday_exercise.html",
    "href": "tidytuesday_exercise.html",
    "title": "Tidy Tuesday Exercise",
    "section": "",
    "text": "install.packages(“tidytuesdayR”)"
  },
  {
    "objectID": "tidytuesday_exercise.html#read-in-the-data",
    "href": "tidytuesday_exercise.html#read-in-the-data",
    "title": "Tidy Tuesday Exercise",
    "section": "Read in the Data:",
    "text": "Read in the Data:\n\n# Got to have that tidyverse...\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.2.2\n\n\nWarning: package 'ggplot2' was built under R version 4.2.2\n\n\nWarning: package 'tidyr' was built under R version 4.2.2\n\n\nWarning: package 'readr' was built under R version 4.2.2\n\n\nWarning: package 'purrr' was built under R version 4.2.2\n\n\nWarning: package 'dplyr' was built under R version 4.2.2\n\n\nWarning: package 'stringr' was built under R version 4.2.2\n\n\nWarning: package 'forcats' was built under R version 4.2.2\n\n\nWarning: package 'lubridate' was built under R version 4.2.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\n# Two options for reading in data\n\n\n## Read in with tidytuesdayR\n\n### Either ISO-8601 date or year/week works!\n\n# tuesdata <- tidytuesdayR::tt_load('2023-02-14')\n# tuesdata <- tidytuesdayR::tt_load(2023, week = 7)\n\n\n\n# or read in manually:\n\nraw_age_gaps <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-02-14/age_gaps.csv')\n\nRows: 1155 Columns: 13\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (6): movie_name, director, actor_1_name, actor_2_name, character_1_gend...\ndbl  (5): release_year, age_difference, couple_number, actor_1_age, actor_2_age\ndate (2): actor_1_birthdate, actor_2_birthdate\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# I want to make sure I have a copy of the raw dataset...\n\nwrite_csv(raw_age_gaps, file = \"data/raw_age_graps.csv\")\n\n\n# Let's take a look...\n\nstr(raw_age_gaps)\n\nspc_tbl_ [1,155 × 13] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ movie_name        : chr [1:1155] \"Harold and Maude\" \"Venus\" \"The Quiet American\" \"The Big Lebowski\" ...\n $ release_year      : num [1:1155] 1971 2006 2002 1998 2010 ...\n $ director          : chr [1:1155] \"Hal Ashby\" \"Roger Michell\" \"Phillip Noyce\" \"Joel Coen\" ...\n $ age_difference    : num [1:1155] 52 50 49 45 43 42 40 39 38 38 ...\n $ couple_number     : num [1:1155] 1 1 1 1 1 1 1 1 1 1 ...\n $ actor_1_name      : chr [1:1155] \"Ruth Gordon\" \"Peter O'Toole\" \"Michael Caine\" \"David Huddleston\" ...\n $ actor_2_name      : chr [1:1155] \"Bud Cort\" \"Jodie Whittaker\" \"Do Thi Hai Yen\" \"Tara Reid\" ...\n $ character_1_gender: chr [1:1155] \"woman\" \"man\" \"man\" \"man\" ...\n $ character_2_gender: chr [1:1155] \"man\" \"woman\" \"woman\" \"woman\" ...\n $ actor_1_birthdate : Date[1:1155], format: \"1896-10-30\" \"1932-08-02\" ...\n $ actor_2_birthdate : Date[1:1155], format: \"1948-03-29\" \"1982-06-03\" ...\n $ actor_1_age       : num [1:1155] 75 74 69 68 81 59 62 69 57 77 ...\n $ actor_2_age       : num [1:1155] 23 24 20 23 38 17 22 30 19 39 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   movie_name = col_character(),\n  ..   release_year = col_double(),\n  ..   director = col_character(),\n  ..   age_difference = col_double(),\n  ..   couple_number = col_double(),\n  ..   actor_1_name = col_character(),\n  ..   actor_2_name = col_character(),\n  ..   character_1_gender = col_character(),\n  ..   character_2_gender = col_character(),\n  ..   actor_1_birthdate = col_date(format = \"\"),\n  ..   actor_2_birthdate = col_date(format = \"\"),\n  ..   actor_1_age = col_double(),\n  ..   actor_2_age = col_double()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\nglimpse(raw_age_gaps)\n\nRows: 1,155\nColumns: 13\n$ movie_name         <chr> \"Harold and Maude\", \"Venus\", \"The Quiet American\", …\n$ release_year       <dbl> 1971, 2006, 2002, 1998, 2010, 1992, 2009, 1999, 199…\n$ director           <chr> \"Hal Ashby\", \"Roger Michell\", \"Phillip Noyce\", \"Joe…\n$ age_difference     <dbl> 52, 50, 49, 45, 43, 42, 40, 39, 38, 38, 36, 36, 35,…\n$ couple_number      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ actor_1_name       <chr> \"Ruth Gordon\", \"Peter O'Toole\", \"Michael Caine\", \"D…\n$ actor_2_name       <chr> \"Bud Cort\", \"Jodie Whittaker\", \"Do Thi Hai Yen\", \"T…\n$ character_1_gender <chr> \"woman\", \"man\", \"man\", \"man\", \"man\", \"man\", \"man\", …\n$ character_2_gender <chr> \"man\", \"woman\", \"woman\", \"woman\", \"man\", \"woman\", \"…\n$ actor_1_birthdate  <date> 1896-10-30, 1932-08-02, 1933-03-14, 1930-09-17, 19…\n$ actor_2_birthdate  <date> 1948-03-29, 1982-06-03, 1982-10-01, 1975-11-08, 19…\n$ actor_1_age        <dbl> 75, 74, 69, 68, 81, 59, 62, 69, 57, 77, 59, 56, 65,…\n$ actor_2_age        <dbl> 23, 24, 20, 23, 38, 17, 22, 30, 19, 39, 23, 20, 30,…\n\nsummary(raw_age_gaps)\n\n  movie_name         release_year    director         age_difference \n Length:1155        Min.   :1935   Length:1155        Min.   : 0.00  \n Class :character   1st Qu.:1997   Class :character   1st Qu.: 4.00  \n Mode  :character   Median :2004   Mode  :character   Median : 8.00  \n                    Mean   :2001                      Mean   :10.42  \n                    3rd Qu.:2012                      3rd Qu.:15.00  \n                    Max.   :2022                      Max.   :52.00  \n couple_number   actor_1_name       actor_2_name       character_1_gender\n Min.   :1.000   Length:1155        Length:1155        Length:1155       \n 1st Qu.:1.000   Class :character   Class :character   Class :character  \n Median :1.000   Mode  :character   Mode  :character   Mode  :character  \n Mean   :1.398                                                           \n 3rd Qu.:2.000                                                           \n Max.   :7.000                                                           \n character_2_gender actor_1_birthdate    actor_2_birthdate     actor_1_age   \n Length:1155        Min.   :1889-04-16   Min.   :1906-10-06   Min.   :18.00  \n Class :character   1st Qu.:1953-05-16   1st Qu.:1965-03-25   1st Qu.:33.00  \n Mode  :character   Median :1964-10-03   Median :1974-07-30   Median :39.00  \n                    Mean   :1960-09-07   Mean   :1971-01-29   Mean   :40.64  \n                    3rd Qu.:1973-08-07   3rd Qu.:1982-04-07   3rd Qu.:47.00  \n                    Max.   :1996-06-01   Max.   :1996-11-11   Max.   :81.00  \n  actor_2_age   \n Min.   :17.00  \n 1st Qu.:25.00  \n Median :29.00  \n Mean   :30.21  \n 3rd Qu.:34.00  \n Max.   :68.00  \n\n\nTime to play with data…\n\nlibrary(ggplot2)\nlibrary(plotly)\n\nWarning: package 'plotly' was built under R version 4.2.2\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\nGraph_Char1Gender <- raw_age_gaps %>%\n  ggplot(mapping = aes(x = character_1_gender, fill = character_1_gender)) +\n  geom_bar() + \n  labs(title = \"Gender Counts in Character 1\", x = \"Gender (Male/Female)\", y = \"Count\", legend = \"Gender\") +\n  geom_text(aes(label = ..count..), stat = \"count\", vjust = 0) +\n  scale_fill_discrete(name = \"Gender\") +\n  theme_dark()\n\nGraph_Char1Gender <- ggplotly(Graph_Char1Gender)\n\nWarning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(count)` instead.\nℹ The deprecated feature was likely used in the ggplot2 package.\n  Please report the issue at <https://github.com/tidyverse/ggplot2/issues>.\n\nGraph_Char1Gender\n\n\n\n\nGraph_Char2Gender <- raw_age_gaps %>%\n  ggplot(mapping = aes(x = character_2_gender, fill = character_2_gender)) +\n  geom_bar() + \n  labs(title = \"Gender Counts in Character 2\", x = \"Gender (Male/Female)\", y = \"Count\", legend = \"Gender\") +\n  geom_text(aes(label = ..count..), stat = \"count\", vjust = 0) +\n  scale_fill_discrete(name = \"Gender\") +\n  theme_dark()\n\nGraph_Char2Gender <- ggplotly(Graph_Char2Gender)\nGraph_Char2Gender\n\n\n\n\n# I wonder what happens to age difference over the years...\n\nGraph_AgeDiffReleaseY <- raw_age_gaps %>%\n  ggplot(mapping = aes(x = release_year, y = age_difference, color = release_year)) +\n  geom_point() + \n  labs(title = \"Age Difference Over the Years\", x = \"Release Year\", y = \"Age Difference (In Years)\") +\n  theme_dark()\n\nGraph_AgeDiffReleaseY <- ggplotly(Graph_AgeDiffReleaseY)\nGraph_AgeDiffReleaseY\n\n\n\n\n# I want to see the AVERAGE age difference over the years...\n\nlibrary(tidyverse)\nrevised_age_gaps <- raw_age_gaps %>%\n  dplyr::select(release_year, age_difference) %>%\n  group_by(release_year) %>%\n  summarize(mean = mean(age_difference))\n\nwrite_csv(revised_age_gaps, file = \"data/revised_age_gaps.csv\")\n\n\n\n# Now lets visualize...\n\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(RColorBrewer)\nGraph_AVGAgeDiffReleaseY <- revised_age_gaps %>%\n  ggplot(mapping = aes(x = release_year, y = mean)) +\n  geom_area(fill = \"LightGreen\") + \n  geom_line(color = \"DarkGreen\") +\n  labs(title = \"Average Age Difference Over the Years\", x = \"Release Year\", y = \"Age Difference (In Years)\") +\n  theme_dark()\n\nGraph_AVGAgeDiffReleaseY <- ggplotly(Graph_AVGAgeDiffReleaseY)\nGraph_AVGAgeDiffReleaseY"
  },
  {
    "objectID": "visualization_exercise.html",
    "href": "visualization_exercise.html",
    "title": "Visualization Exercise",
    "section": "",
    "text": "For this exercise, I wanted to create an interactive ‘heat’ map such as the one found here. (Or see photo below):\n\n\n\n\nlibrary(maps)\n\nWarning: package 'maps' was built under R version 4.2.2\n\nlibrary(sf)\n\nWarning: package 'sf' was built under R version 4.2.2\n\n\nLinking to GEOS 3.9.3, GDAL 3.5.2, PROJ 8.2.1; sf_use_s2() is TRUE\n\nlibrary(ggplot2)\n\nWarning: package 'ggplot2' was built under R version 4.2.2\n\nlibrary(tmap)\n\nWarning: package 'tmap' was built under R version 4.2.2\n\nlibrary(tmaptools)\n\nWarning: package 'tmaptools' was built under R version 4.2.2\n\nlibrary(leaflet)\n\nWarning: package 'leaflet' was built under R version 4.2.2\n\nlibrary(dplyr)\n\nWarning: package 'dplyr' was built under R version 4.2.2\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.2.2\n\n\nWarning: package 'tidyr' was built under R version 4.2.2\n\n\nWarning: package 'readr' was built under R version 4.2.2\n\n\nWarning: package 'purrr' was built under R version 4.2.2\n\n\nWarning: package 'stringr' was built under R version 4.2.2\n\n\nWarning: package 'forcats' was built under R version 4.2.2\n\n\nWarning: package 'lubridate' was built under R version 4.2.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ lubridate 1.9.2     ✔ tibble    3.1.8\n✔ purrr     1.0.1     ✔ tidyr     1.3.0\n✔ readr     2.1.4     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ purrr::map()    masks maps::map()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\n\n\n\n\nDescription of Dataset:\nThis data comes from the Centers for Disease Control and Prevention’s National Notifiable Diseases Surveillance System (NNDSS). Every week the CDC posts data received from the NNDSS system by the 50 states and US territories. This data set in particular was posted on 01.26.2023.\n\n# Loading the raw data set.\nRawNNDSS <- readr:: read_csv(\"data/NNDSS_Weekly_Data.csv\")\n\nRows: 424130 Columns: 16\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (9): Reporting Area, Label, Current week, flag, Previous 52 weeks Max, f...\ndbl (7): Current MMWR Year, MMWR WEEK, Current week, Previous 52 week Max, C...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n## Let's take a look...\nsummary(RawNNDSS)\n\n Reporting Area     Current MMWR Year   MMWR WEEK        Label          \n Length:424130      Min.   :2022      Min.   : 1.00   Length:424130     \n Class :character   1st Qu.:2022      1st Qu.:11.00   Class :character  \n Mode  :character   Median :2022      Median :25.00   Mode  :character  \n                    Mean   :2022      Mean   :25.13                     \n                    3rd Qu.:2022      3rd Qu.:39.00                     \n                    Max.   :2023      Max.   :52.00                     \n                                                                        \n  Current week     Current week, flag Previous 52 week Max\n Min.   :    1.0   Length:424130      Min.   :    0.0     \n 1st Qu.:    1.0   Class :character   1st Qu.:    0.0     \n Median :    3.0   Mode  :character   Median :    0.0     \n Mean   :  107.5                      Mean   :   16.8     \n 3rd Qu.:   16.0                      3rd Qu.:    2.0     \n Max.   :17162.0                      Max.   :31207.0     \n NA's   :387848                       NA's   :54813       \n Previous 52 weeks Max, flag Cumulative YTD Current MMWR Year\n Length:424130               Min.   :      1                 \n Class :character            1st Qu.:      2                 \n Mode  :character            Median :     11                 \n                             Mean   :   1758                 \n                             3rd Qu.:     74                 \n                             Max.   :1405282                 \n                             NA's   :297627                  \n Cumulative YTD Current MMWR Year, flag Cumulative YTD Previous MMWR Year\n Length:424130                          Min.   :      1                  \n Class :character                       1st Qu.:      2                  \n Mode  :character                       Median :     10                  \n                                        Mean   :   2012                  \n                                        3rd Qu.:     75                  \n                                        Max.   :1649210                  \n                                        NA's   :283732                   \n Cumulative YTD Previous MMWR Year, flag  LOCATION1          LOCATION2        \n Length:424130                           Length:424130      Length:424130     \n Class :character                        Class :character   Class :character  \n Mode  :character                        Mode  :character   Mode  :character  \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n   sort_order          geocode         \n Min.   :2.022e+10   Length:424130     \n 1st Qu.:2.022e+10   Class :character  \n Median :2.022e+10   Mode  :character  \n Mean   :2.022e+10                     \n 3rd Qu.:2.022e+10                     \n Max.   :2.023e+10                     \n                                       \n\nstr(RawNNDSS)\n\nspc_tbl_ [424,130 × 16] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Reporting Area                         : chr [1:424130] \"US RESIDENTS\" \"NEW ENGLAND\" \"CONNECTICUT\" \"MAINE\" ...\n $ Current MMWR Year                      : num [1:424130] 2022 2022 2022 2022 2022 ...\n $ MMWR WEEK                              : num [1:424130] 10 10 10 10 10 10 10 10 10 10 ...\n $ Label                                  : chr [1:424130] \"Anthrax\" \"Anthrax\" \"Anthrax\" \"Anthrax\" ...\n $ Current week                           : num [1:424130] NA NA NA NA NA NA NA NA NA NA ...\n $ Current week, flag                     : chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ Previous 52 week Max                   : num [1:424130] 0 0 0 0 0 0 0 0 0 0 ...\n $ Previous 52 weeks Max, flag            : chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ Cumulative YTD Current MMWR Year       : num [1:424130] NA NA NA NA NA NA NA NA NA NA ...\n $ Cumulative YTD Current MMWR Year, flag : chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ Cumulative YTD Previous MMWR Year      : num [1:424130] NA NA NA NA NA NA NA NA NA NA ...\n $ Cumulative YTD Previous MMWR Year, flag: chr [1:424130] \"-\" \"-\" \"-\" \"-\" ...\n $ LOCATION1                              : chr [1:424130] NA NA \"CONNECTICUT\" \"MAINE\" ...\n $ LOCATION2                              : chr [1:424130] \"US RESIDENTS\" \"NEW ENGLAND\" NA NA ...\n $ sort_order                             : num [1:424130] 2.02e+10 2.02e+10 2.02e+10 2.02e+10 2.02e+10 ...\n $ geocode                                : chr [1:424130] NA NA \"POINT (-72.738288 41.575155)\" \"POINT (-69.06137 45.117911)\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   `Reporting Area` = col_character(),\n  ..   `Current MMWR Year` = col_double(),\n  ..   `MMWR WEEK` = col_double(),\n  ..   Label = col_character(),\n  ..   `Current week` = col_double(),\n  ..   `Current week, flag` = col_character(),\n  ..   `Previous 52 week Max` = col_double(),\n  ..   `Previous 52 weeks Max, flag` = col_character(),\n  ..   `Cumulative YTD Current MMWR Year` = col_double(),\n  ..   `Cumulative YTD Current MMWR Year, flag` = col_character(),\n  ..   `Cumulative YTD Previous MMWR Year` = col_double(),\n  ..   `Cumulative YTD Previous MMWR Year, flag` = col_character(),\n  ..   LOCATION1 = col_character(),\n  ..   LOCATION2 = col_character(),\n  ..   sort_order = col_double(),\n  ..   geocode = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\n\n\n\n\n\n# Don't want to see anything outside the continental US...\n\nNoLocation <- c(\"DISTRICT OF COLUMBIA\", \"NEW YORK CITY\", \"AMERICAN SAMOA\", \n                          \"U.S. VIRGIN ISLANDS\", \"NORTHERN MARIANA ISLANDS\", \n                          \"GUAM\", \"PUERTO RICO\")\n\nUSChlamydia <- RawNNDSS %>%\n  filter(Label == \"Chlamydia trachomatis infection\" \n         & `Current MMWR Year` == 2022)\n\nUSChlamydia <- USChlamydia[ ! USChlamydia$LOCATION1 %in% NoLocation, ]\n\n\n\n\n# Grouping/sum by state...\n\nFor_map <- USChlamydia %>%\n  group_by(LOCATION1) %>%\n  summarise(Freq = sum(`Current week`, na.rm = TRUE))\n\n\n\n# Renaming...prepping for join\n\nFor_map <- For_map %>%\n  mutate(region = LOCATION1)\nFor_map <- For_map %>%\n  select(region, Freq)\n\n\n\n# Map Data\n\nMainStates <- map_data(\"state\")\n\n\n\n# Renaming...prepping for join\n\nMainStates$region <- str_to_upper(MainStates$region)\n\n\n\n\n\n# Generating Plot \n\nggplot() +\n  geom_polygon(data = MainStates, aes(x = long, y = lat, group=group),\n               color = \"black\", fill = \"lightblue\")\n\n\n\nMergedStates <- inner_join(MainStates, For_map, by = \"region\")\nMap1 <- ggplot()\n\nMap1 <- Map1 + geom_polygon(data = MergedStates, aes(x = long, y = lat, group = group,\n                                               fill = Freq), color = \"black\", linewidth = 0.2)\n\n\n# View Map 1\nMap1\n\n\n\n# Kind of want a different color scheme\nMap2 <- Map1 +scale_fill_gradient(name = \"Cases of Chlamydia Reported in 2022\",\n                                  low = \"yellow\", high = \"red\",\n                                   na.value = \"grey\") +\n  theme(axis.text.x = element_blank(),\n        axis.text.y =  element_blank(),\n        axis.ticks =  element_blank(),\n        axis.title.y = element_blank(),\n        axis.title.x = element_blank(),\n        rect = element_blank())\n\n# View Map 2\nMap2\n\n\n\n\n\nWhile this isn’t the graph or the outcome that I would’ve liked. I did learn a lot about how the data are structured to generate these maps and merging them with your dataset. Initially, I was trying to use the leaflet() package and other variations that had a lot of easy-to-create interactive components, however, this was very difficult for me to do (I’ve removed my trials with these and kept the final. Trust me, you don’t want to see the mess I put myself through just to complete this assignment. Even if you wanted to see it, I’m still mad about it so it had to go). Now that I have a finished product and saw it through to the end, I think I’m going to try to create my initial vision I had. Completing this version brought some new details to light that would’ve helped to know when I first started this."
  },
  {
    "objectID": "fluanalysis/code/modeleval.html",
    "href": "fluanalysis/code/modeleval.html",
    "title": "Model Evaluation",
    "section": "",
    "text": "## Load packages\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.0\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──\n✔ broom        1.0.4     ✔ rsample      1.1.1\n✔ dials        1.1.0     ✔ tune         1.0.1\n✔ infer        1.0.4     ✔ workflows    1.1.3\n✔ modeldata    1.1.0     ✔ workflowsets 1.0.0\n✔ parsnip      1.0.4     ✔ yardstick    1.1.0\n✔ recipes      1.0.5     \n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Dig deeper into tidy modeling with R at https://www.tmwr.org\n\n### Pathing(?)\nlibrary(here)\n\nhere() starts at C:/Users/conno/Documents/MADA/connorross-MADA-portfolio\n\nwrangled_data_location <- here(\"fluanalysis\", \"data\", \"processed_data\", \"SympActAny_new.rds\")\nSympActAny_new <- readRDS(wrangled_data_location)\n\n## Splitting the wrangled dataset.\nglimpse(SympActAny_new)\n\nRows: 730\nColumns: 32\n$ SwollenLymphNodes <fct> Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, No, Yes, Y…\n$ ChestCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ ChillsSweats      <fct> No, No, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, …\n$ NasalCongestion   <fct> No, Yes, Yes, Yes, No, No, No, Yes, Yes, Yes, Yes, Y…\n$ CoughYN           <fct> Yes, Yes, No, Yes, No, Yes, Yes, Yes, Yes, Yes, No, …\n$ Sneeze            <fct> No, No, Yes, Yes, No, Yes, No, Yes, No, No, No, No, …\n$ Fatigue           <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ SubjectiveFever   <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, Yes…\n$ Headache          <fct> Yes, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes…\n$ Weakness          <fct> Mild, Severe, Severe, Severe, Moderate, Moderate, Mi…\n$ WeaknessYN        <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ CoughIntensity    <fct> Severe, Severe, Mild, Moderate, None, Moderate, Seve…\n$ CoughYN2          <fct> Yes, Yes, Yes, Yes, No, Yes, Yes, Yes, Yes, Yes, Yes…\n$ Myalgia           <fct> Mild, Severe, Severe, Severe, Mild, Moderate, Mild, …\n$ MyalgiaYN         <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Ye…\n$ RunnyNose         <fct> No, No, Yes, Yes, No, No, Yes, Yes, Yes, Yes, No, No…\n$ AbPain            <fct> No, No, Yes, No, No, No, No, No, No, No, Yes, Yes, N…\n$ ChestPain         <fct> No, No, Yes, No, No, Yes, Yes, No, No, No, No, Yes, …\n$ Diarrhea          <fct> No, No, No, No, No, Yes, No, No, No, No, No, No, No,…\n$ EyePn             <fct> No, No, No, No, Yes, No, No, No, No, No, Yes, No, Ye…\n$ Insomnia          <fct> No, No, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Yes, Y…\n$ ItchyEye          <fct> No, No, No, No, No, No, No, No, No, No, No, No, Yes,…\n$ Nausea            <fct> No, No, Yes, Yes, Yes, Yes, No, No, Yes, Yes, Yes, Y…\n$ EarPn             <fct> No, Yes, No, Yes, No, No, No, No, No, No, No, Yes, Y…\n$ Hearing           <fct> No, Yes, No, No, No, No, No, No, No, No, No, No, No,…\n$ Pharyngitis       <fct> Yes, Yes, Yes, Yes, Yes, Yes, Yes, No, No, No, Yes, …\n$ Breathless        <fct> No, No, Yes, No, No, Yes, No, No, No, Yes, No, Yes, …\n$ ToothPn           <fct> No, No, Yes, No, No, No, No, No, Yes, No, No, Yes, N…\n$ Vision            <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, …\n$ Vomit             <fct> No, No, No, No, No, No, Yes, No, No, No, Yes, Yes, N…\n$ Wheeze            <fct> No, No, No, Yes, No, Yes, No, No, No, No, No, Yes, N…\n$ BodyTemp          <dbl> 98.3, 100.4, 100.8, 98.8, 100.5, 98.4, 102.5, 98.4, …\n\n## For reproducibility\nset.seed(1)\n\n## Put 3/4 of the data into training set\ndata_split <- initial_split(SympActAny_new, prop = 3/4)\n\n## Create data frame for two sets\ntrain_data <- training(data_split)\ntest_data <- testing(data_split)\n\n## New recipe\nnew_flu <- recipe(Nausea ~ ., data = train_data)\n\n## Set engine/regression model\nlr_mod <- logistic_reg() %>%\n  set_engine(\"glm\")\n\n\n## Create workflow\nflu_wflow <- workflow() %>%\n  add_model(lr_mod) %>%\n  add_recipe(new_flu)\n\nflu_wflow\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: logistic_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\nLogistic Regression Model Specification (classification)\n\nComputational engine: glm \n\n## Fit train data\nflu_fit <- flu_wflow %>%\n  fit(data = train_data)\n\nflu_fit %>%\n  extract_fit_parsnip() %>%\n  tidy()\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic p.value\n   <chr>                   <dbl>     <dbl>     <dbl>   <dbl>\n 1 (Intercept)            9.58       9.78     0.980   0.327 \n 2 SwollenLymphNodesYes  -0.156      0.226   -0.688   0.492 \n 3 ChestCongestionYes     0.258      0.250    1.03    0.301 \n 4 ChillsSweatsYes        0.274      0.346    0.793   0.428 \n 5 NasalCongestionYes     0.545      0.300    1.82    0.0691\n 6 CoughYNYes             0.163      0.632    0.258   0.796 \n 7 SneezeYes             -0.0105     0.245   -0.0427  0.966 \n 8 FatigueYes             0.702      0.457    1.54    0.125 \n 9 SubjectiveFeverYes     0.320      0.263    1.21    0.225 \n10 HeadacheYes            0.474      0.339    1.40    0.162 \n# … with 28 more rows\n\n## Predict\npredict(flu_fit, test_data)\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\n\n# A tibble: 183 × 1\n   .pred_class\n   <fct>      \n 1 No         \n 2 Yes        \n 3 No         \n 4 No         \n 5 Yes        \n 6 No         \n 7 Yes        \n 8 Yes        \n 9 Yes        \n10 No         \n# … with 173 more rows\n\n## Augment\nflu_aug <- augment(flu_fit, test_data)\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nflu_aug %>%\n  select(Nausea, .pred_No, .pred_Yes)\n\n# A tibble: 183 × 3\n   Nausea .pred_No .pred_Yes\n   <fct>     <dbl>     <dbl>\n 1 Yes      0.774      0.226\n 2 Yes      0.0292     0.971\n 3 Yes      0.849      0.151\n 4 No       0.640      0.360\n 5 Yes      0.165      0.835\n 6 No       0.790      0.210\n 7 Yes      0.375      0.625\n 8 Yes      0.0636     0.936\n 9 Yes      0.253      0.747\n10 Yes      0.751      0.249\n# … with 173 more rows\n\n## ROC curve\nflu_aug %>%\n  roc_curve(Nausea, .pred_No) %>%\n  autoplot()\n\nWarning: Returning more (or less) than 1 row per `summarise()` group was deprecated in\ndplyr 1.1.0.\nℹ Please use `reframe()` instead.\nℹ When switching from `summarise()` to `reframe()`, remember that `reframe()`\n  always returns an ungrouped data frame and adjust accordingly.\nℹ The deprecated feature was likely used in the yardstick package.\n  Please report the issue at <https://github.com/tidymodels/yardstick/issues>.\n\n\n\n\nflu_aug %>%\n  roc_auc(Nausea, .pred_No)\n\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 roc_auc binary         0.704\n\n# RUNNY NOSE\nnew_flu_rn <- recipe(Nausea ~ RunnyNose, data = train_data)\n\n\n## Create workflow\nflu_wflow2 <- workflow() %>%\n  add_model(lr_mod) %>%\n  add_recipe(new_flu_rn)\n\nflu_wflow2\n\n══ Workflow ════════════════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: logistic_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\nLogistic Regression Model Specification (classification)\n\nComputational engine: glm \n\n## Fit train data\nflu_fit_rn <- flu_wflow2 %>%\n  fit(data = train_data)\n\nflu_fit_rn %>%\n  extract_fit_parsnip() %>%\n  tidy()\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic    p.value\n  <chr>           <dbl>     <dbl>     <dbl>      <dbl>\n1 (Intercept)    -0.772     0.173     -4.47 0.00000794\n2 RunnyNoseYes    0.250     0.202      1.24 0.216     \n\n## Predict\npredict(flu_fit_rn, test_data)\n\n# A tibble: 183 × 1\n   .pred_class\n   <fct>      \n 1 No         \n 2 No         \n 3 No         \n 4 No         \n 5 No         \n 6 No         \n 7 No         \n 8 No         \n 9 No         \n10 No         \n# … with 173 more rows\n\n## Augment\nflu_aug_rn <- augment(flu_fit_rn, test_data)\n\nflu_aug_rn %>%\n  select(Nausea, .pred_No, .pred_Yes)\n\n# A tibble: 183 × 3\n   Nausea .pred_No .pred_Yes\n   <fct>     <dbl>     <dbl>\n 1 Yes       0.628     0.372\n 2 Yes       0.684     0.316\n 3 Yes       0.628     0.372\n 4 No        0.628     0.372\n 5 Yes       0.628     0.372\n 6 No        0.628     0.372\n 7 Yes       0.628     0.372\n 8 Yes       0.684     0.316\n 9 Yes       0.684     0.316\n10 Yes       0.628     0.372\n# … with 173 more rows\n\n## ROC curve\nflu_aug_rn %>%\n  roc_curve(Nausea, .pred_No) %>%\n  autoplot()\n\n\n\nflu_aug_rn %>%\n  roc_auc(Nausea, .pred_No)\n\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 roc_auc binary         0.442"
  },
  {
    "objectID": "fluanalysis/code/modeleval.html#set-seed-for-reproducibility",
    "href": "fluanalysis/code/modeleval.html#set-seed-for-reproducibility",
    "title": "Model Evaluation",
    "section": "Set Seed for Reproducibility",
    "text": "Set Seed for Reproducibility\n\nset.seed(325)"
  },
  {
    "objectID": "fluanalysis/code/modeleval.html#split-data-again",
    "href": "fluanalysis/code/modeleval.html#split-data-again",
    "title": "Model Evaluation",
    "section": "Split Data Again",
    "text": "Split Data Again\n\n# Data Splitting\nsplit_data <- initial_split(SympActAny_new, prop = 4/5)\n\n# Training & Test(ing) Data\ntrain_data <- training(split_data)\ntest_data <- testing(split_data)"
  },
  {
    "objectID": "fluanalysis/code/modeleval.html#workflow-creation-and-model-fitting",
    "href": "fluanalysis/code/modeleval.html#workflow-creation-and-model-fitting",
    "title": "Model Evaluation",
    "section": "Workflow Creation and Model Fitting",
    "text": "Workflow Creation and Model Fitting\n\nCreate Recipe for Fitting Linear Regression\n\nflu_recipe <- recipe(BodyTemp ~ ., data = SympActAny_new)\n\n\n\nWorkflow to Create Linear Regression Model\n\n# Set Model to Linear Regression\nlinear_regression_model <- linear_reg() %>% set_engine(\"lm\")\n\n# Specifying Workflow\nlinear_workflow <- workflow() %>% \n  add_model(linear_regression_model) %>% \n  add_recipe(flu_recipe)\n\n# Fitting/Training\nlinear_fit <- linear_workflow %>%\n  fit(data = train_data)"
  },
  {
    "objectID": "fluanalysis/code/modeleval.html#multivariate-model-evaluation",
    "href": "fluanalysis/code/modeleval.html#multivariate-model-evaluation",
    "title": "Model Evaluation",
    "section": "Multivariate Model Evaluation",
    "text": "Multivariate Model Evaluation\n\nPrediction + RMSE\n\n# Fit Characteristics\nlinear_fit %>% extract_fit_parsnip() %>% tidy()\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic  p.value\n   <chr>                   <dbl>     <dbl>     <dbl>    <dbl>\n 1 (Intercept)            97.7       0.353    277.   0       \n 2 SwollenLymphNodesYes   -0.154     0.102     -1.51 0.130   \n 3 ChestCongestionYes      0.119     0.107      1.11 0.267   \n 4 ChillsSweatsYes         0.299     0.143      2.09 0.0373  \n 5 NasalCongestionYes     -0.190     0.130     -1.46 0.145   \n 6 CoughYNYes              0.357     0.270      1.32 0.187   \n 7 SneezeYes              -0.342     0.109     -3.15 0.00173 \n 8 FatigueYes              0.305     0.173      1.76 0.0789  \n 9 SubjectiveFeverYes      0.384     0.115      3.35 0.000862\n10 HeadacheYes             0.138     0.137      1.01 0.314   \n# … with 28 more rows\n\n# Prediction\npredict(linear_fit, test_data)\n\nWarning in predict.lm(object = object$fit, newdata = new_data, type =\n\"response\"): prediction from a rank-deficient fit may be misleading\n\n\n# A tibble: 146 × 1\n   .pred\n   <dbl>\n 1  98.6\n 2  98.9\n 3  98.4\n 4  99.0\n 5  99.3\n 6  98.8\n 7  99.0\n 8  99.5\n 9  99.4\n10  98.8\n# … with 136 more rows\n\n# Augmentation + RMSE\naugment(linear_fit, test_data) %>% \n  select(BodyTemp, .pred) %>%\n  rmse(BodyTemp, .pred)\n\nWarning in predict.lm(object = object$fit, newdata = new_data, type =\n\"response\"): prediction from a rank-deficient fit may be misleading\n\n\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rmse    standard        1.23"
  },
  {
    "objectID": "fluanalysis/code/modeleval.html#simple-alternative-linear-regression-model-evaluation",
    "href": "fluanalysis/code/modeleval.html#simple-alternative-linear-regression-model-evaluation",
    "title": "Model Evaluation",
    "section": "Simple (Alternative) Linear Regression Model Evaluation",
    "text": "Simple (Alternative) Linear Regression Model Evaluation\n\nEdit Recipe\n\nsimple_flu_recipe <- recipe(BodyTemp ~ RunnyNose, data = SympActAny_new)\n\n\n\nModify Workflow\n\n# Modified Workflow\nlinear_workflow <- workflow() %>% \n  add_model(linear_regression_model) %>% \n  add_recipe(simple_flu_recipe)\n\n# Fitting/Training\nlinear_fit <- linear_workflow %>%\n  fit(data = train_data)\n\n\n\nPrediction + RMSE\n\n# Fit Characteristics\nlinear_fit %>% extract_fit_parsnip() %>% tidy()\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic p.value\n  <chr>           <dbl>     <dbl>     <dbl>   <dbl>\n1 (Intercept)    99.1      0.0923   1074.    0     \n2 RunnyNoseYes   -0.219    0.109      -2.02  0.0440\n\n# Prediction\npredict(linear_fit, test_data)\n\n# A tibble: 146 × 1\n   .pred\n   <dbl>\n 1  98.9\n 2  98.9\n 3  98.9\n 4  98.9\n 5  98.9\n 6  99.1\n 7  98.9\n 8  98.9\n 9  99.1\n10  98.9\n# … with 136 more rows\n\n# Augmentation + RMSE\naugment(linear_fit, test_data) %>% select(BodyTemp, .pred) %>% rmse(BodyTemp, .pred)\n\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rmse    standard        1.24"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html",
    "href": "fluanalysis/code/machinelearning.html",
    "title": "Machine Learning",
    "section": "",
    "text": "## Load packages\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.0\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──\n✔ broom        1.0.4     ✔ rsample      1.1.1\n✔ dials        1.1.0     ✔ tune         1.0.1\n✔ infer        1.0.4     ✔ workflows    1.1.3\n✔ modeldata    1.1.0     ✔ workflowsets 1.0.0\n✔ parsnip      1.0.4     ✔ yardstick    1.1.0\n✔ recipes      1.0.5     \n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Use suppressPackageStartupMessages() to eliminate package startup messages\n\nlibrary(rpart)\n\n\nAttaching package: 'rpart'\n\nThe following object is masked from 'package:dials':\n\n    prune\n\nlibrary(glmnet)\n\nLoading required package: Matrix\n\nAttaching package: 'Matrix'\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\nLoaded glmnet 4.1-7\n\nlibrary(ranger)\nlibrary(vip)\n\n\nAttaching package: 'vip'\n\nThe following object is masked from 'package:utils':\n\n    vi\n\n### Pathing(?)\nlibrary(here)\n\nhere() starts at C:/Users/conno/Documents/MADA/connorross-MADA-portfolio\n\nwrangled_data_location <- here(\"fluanalysis\", \"data\", \"processed_data\", \"SympActAny_new.rds\")\nSympActAny_new <- readRDS(wrangled_data_location)\n\n# Set Seed to 123\nset.seed(123)\n\nsplit <- initial_split(SympActAny_new, prop = 7/10, strata = BodyTemp)\n\nflu_train1 <- training(split)\nflu_test1 <- testing(split)\n\n# Train\n\n# 5 Fold CV\nfolds <- vfold_cv(flu_train1, v = 5, strata = BodyTemp)\nfolds\n\n#  5-fold cross-validation using stratification \n# A tibble: 5 × 2\n  splits            id   \n  <list>            <chr>\n1 <split [405/103]> Fold1\n2 <split [405/103]> Fold2\n3 <split [406/102]> Fold3\n4 <split [408/100]> Fold4\n5 <split [408/100]> Fold5\n\n# Recipe\nflu_rec1 <- recipe(BodyTemp ~ ., data = flu_train1) %>%\n  step_dummy(all_predictors()) %>%\n  prep(training = flu_train1)\n\nflu_rec1 <- bake(flu_rec1, new_data = NULL)\n\n\n# Null Model Performance\n## Create\nnull_mod1 <- null_model() %>%\n  set_engine(\"parsnip\") %>%\n  set_mode(\"regression\")\n\n## Cooking off the Recipe\nnull_recipe <- recipe(BodyTemp ~., data = flu_rec1)\n\nnull_workflow <- workflow() %>%\n  add_model(null_mod1) %>%\n  add_recipe(null_recipe)\n\nextract_parameter_set_dials(null_workflow)\n\nCollection of 0 parameters for tuning\n\n[1] identifier type       object    \n<0 rows> (or 0-length row.names)\n\n## RMSE\nfit_null1 <- null_workflow %>%\n  fit(data = flu_rec1)\n\n## Check the fit\nfit_null1 %>%\n  extract_fit_parsnip() %>%\n  tidy()\n\n# A tibble: 1 × 1\n  value\n  <dbl>\n1  98.9\n\naug_null <- augment(fit_null1, flu_rec1)\n\naug_null %>%\n  select(BodyTemp, .pred) %>%\n  rmse(BodyTemp, .pred)\n\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rmse    standard        1.21\n\n# Test\n\n# 5 Fold CV\nfolds2 <- vfold_cv(flu_test1, v = 5, strata = BodyTemp)\nfolds2\n\n#  5-fold cross-validation using stratification \n# A tibble: 5 × 2\n  splits           id   \n  <list>           <chr>\n1 <split [175/47]> Fold1\n2 <split [176/46]> Fold2\n3 <split [179/43]> Fold3\n4 <split [179/43]> Fold4\n5 <split [179/43]> Fold5\n\n# Recipe\nflu_rec2 <- recipe(BodyTemp ~ ., data = flu_test1) %>%\n  step_dummy(all_predictors()) %>%\n  prep(training = flu_test1)\n\nflu_rec2 <- bake(flu_rec2, new_data = NULL)\n\n\n# Null Model Performance\n## Create\nnull_mod2 <- null_model() %>%\n  set_engine(\"parsnip\") %>%\n  set_mode(\"regression\")\n\n## Cooking off the Recipe\nnull_recipe2 <- recipe(BodyTemp ~., data = flu_rec2)\n\nnull_workflow2 <- workflow() %>%\n  add_model(null_mod2) %>%\n  add_recipe(null_recipe2)\n\nextract_parameter_set_dials(null_workflow2)\n\nCollection of 0 parameters for tuning\n\n[1] identifier type       object    \n<0 rows> (or 0-length row.names)\n\n## RMSE\nfit_null2 <- null_workflow %>%\n  fit(data = flu_rec2)\n\n## Check the fit\nfit_null2 %>%\n  extract_fit_parsnip() %>%\n  tidy()\n\n# A tibble: 1 × 1\n  value\n  <dbl>\n1  98.9\n\naug_null2 <- augment(fit_null2, flu_rec2)\n\naug_null2 %>%\n  select(BodyTemp, .pred) %>%\n  rmse(BodyTemp, .pred)\n\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rmse    standard        1.16"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#model-specification",
    "href": "fluanalysis/code/machinelearning.html#model-specification",
    "title": "Machine Learning",
    "section": "Model Specification",
    "text": "Model Specification\n\ntune_spec <- decision_tree(cost_complexity = tune(),\n                           tree_depth = tune()) %>%\n  set_engine(\"rpart\") %>%\n  set_mode(\"regression\")\ntune_spec\n\nDecision Tree Model Specification (regression)\n\nMain Arguments:\n  cost_complexity = tune()\n  tree_depth = tune()\n\nComputational engine: rpart \n\ntree_grid <- grid_regular(cost_complexity(),\n                          tree_depth(),\n                          levels = 5)\ntree_grid\n\n# A tibble: 25 × 2\n   cost_complexity tree_depth\n             <dbl>      <int>\n 1    0.0000000001          1\n 2    0.0000000178          1\n 3    0.00000316            1\n 4    0.000562              1\n 5    0.1                   1\n 6    0.0000000001          4\n 7    0.0000000178          4\n 8    0.00000316            4\n 9    0.000562              4\n10    0.1                   4\n# ℹ 15 more rows\n\ntree_grid %>%\n  count(tree_depth)\n\n# A tibble: 5 × 2\n  tree_depth     n\n       <int> <int>\n1          1     5\n2          4     5\n3          8     5\n4         11     5\n5         15     5"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#workflow-definition",
    "href": "fluanalysis/code/machinelearning.html#workflow-definition",
    "title": "Machine Learning",
    "section": "Workflow Definition",
    "text": "Workflow Definition\n\ntree_wf <- workflow() %>%\n  add_model(tune_spec) %>%\n  add_formula(BodyTemp ~ .)"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#tuning-grid-specification",
    "href": "fluanalysis/code/machinelearning.html#tuning-grid-specification",
    "title": "Machine Learning",
    "section": "Tuning Grid Specification",
    "text": "Tuning Grid Specification\n\nset.seed(234)\ntree_folds <- vfold_cv(flu_train1)\n\ntree_res <- tree_wf %>%\n  tune_grid(\n    resamples = tree_folds,\n    grid = tree_grid\n  )\n\n! Fold01: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold02: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold03: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold04: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold05: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold06: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold07: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold08: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold09: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\n\n! Fold10: internal:\n  There was 1 warning in `dplyr::summarise()`.\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 1`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 4`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 8`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 11`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n  ℹ In argument: `.estimate = metric_fn(truth = BodyTemp, estimate = .pr...\n    = na_rm)`.\n  ℹ In group 1: `cost_complexity = 0.1`, `tree_depth = 15`.\n  Caused by warning:\n  ! A correlation computation is required, but `estimate` is constant an...\n\ntree_res\n\n# Tuning results\n# 10-fold cross-validation \n# A tibble: 10 × 4\n   splits           id     .metrics          .notes          \n   <list>           <chr>  <list>            <list>          \n 1 <split [457/51]> Fold01 <tibble [50 × 6]> <tibble [1 × 3]>\n 2 <split [457/51]> Fold02 <tibble [50 × 6]> <tibble [1 × 3]>\n 3 <split [457/51]> Fold03 <tibble [50 × 6]> <tibble [1 × 3]>\n 4 <split [457/51]> Fold04 <tibble [50 × 6]> <tibble [1 × 3]>\n 5 <split [457/51]> Fold05 <tibble [50 × 6]> <tibble [1 × 3]>\n 6 <split [457/51]> Fold06 <tibble [50 × 6]> <tibble [1 × 3]>\n 7 <split [457/51]> Fold07 <tibble [50 × 6]> <tibble [1 × 3]>\n 8 <split [457/51]> Fold08 <tibble [50 × 6]> <tibble [1 × 3]>\n 9 <split [458/50]> Fold09 <tibble [50 × 6]> <tibble [1 × 3]>\n10 <split [458/50]> Fold10 <tibble [50 × 6]> <tibble [1 × 3]>\n\nThere were issues with some computations:\n\n  - Warning(s) x10: There was 1 warning in `dplyr::summarise()`. ℹ In argument: `.est...\n\nRun `show_notes(.Last.tune.result)` for more information.\n\ntree_res %>%\n  collect_metrics()\n\n# A tibble: 50 × 8\n   cost_complexity tree_depth .metric .estimator     mean     n std_err .config \n             <dbl>      <int> <chr>   <chr>         <dbl> <int>   <dbl> <chr>   \n 1    0.0000000001          1 rmse    standard     1.19      10  0.0517 Preproc…\n 2    0.0000000001          1 rsq     standard     0.0550    10  0.0176 Preproc…\n 3    0.0000000178          1 rmse    standard     1.19      10  0.0517 Preproc…\n 4    0.0000000178          1 rsq     standard     0.0550    10  0.0176 Preproc…\n 5    0.00000316            1 rmse    standard     1.19      10  0.0517 Preproc…\n 6    0.00000316            1 rsq     standard     0.0550    10  0.0176 Preproc…\n 7    0.000562              1 rmse    standard     1.19      10  0.0517 Preproc…\n 8    0.000562              1 rsq     standard     0.0550    10  0.0176 Preproc…\n 9    0.1                   1 rmse    standard     1.20      10  0.0506 Preproc…\n10    0.1                   1 rsq     standard   NaN          0 NA      Preproc…\n# ℹ 40 more rows\n\n#Why is this failing? Error: All models failed"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#tuning-using-cross-validation-and-tune_grid",
    "href": "fluanalysis/code/machinelearning.html#tuning-using-cross-validation-and-tune_grid",
    "title": "Machine Learning",
    "section": "Tuning using Cross-Validation and Tune_grid()",
    "text": "Tuning using Cross-Validation and Tune_grid()\n\ntree_res %>%\n  show_best(metric = \"rmse\")\n\n# A tibble: 5 × 8\n  cost_complexity tree_depth .metric .estimator  mean     n std_err .config     \n            <dbl>      <int> <chr>   <chr>      <dbl> <int>   <dbl> <chr>       \n1    0.0000000001          1 rmse    standard    1.19    10  0.0517 Preprocesso…\n2    0.0000000178          1 rmse    standard    1.19    10  0.0517 Preprocesso…\n3    0.00000316            1 rmse    standard    1.19    10  0.0517 Preprocesso…\n4    0.000562              1 rmse    standard    1.19    10  0.0517 Preprocesso…\n5    0.1                   1 rmse    standard    1.20    10  0.0506 Preprocesso…\n\nbest_tree <- tree_res %>%\n  select_best(metric = \"rmse\")\nbest_tree\n\n# A tibble: 1 × 3\n  cost_complexity tree_depth .config              \n            <dbl>      <int> <chr>                \n1    0.0000000001          1 Preprocessor1_Model01"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#model-specification-1",
    "href": "fluanalysis/code/machinelearning.html#model-specification-1",
    "title": "Machine Learning",
    "section": "Model Specification",
    "text": "Model Specification\n\nset.seed(234)\nval_set <- validation_split(SympActAny_new, strata = BodyTemp, prop = 0.70)\n\nlr_mod <- linear_reg(penalty = tune(), mixture = 1) %>%\n  set_engine(\"glmnet\") \n\nlr_recipe <- recipe(BodyTemp ~ ., data = flu_train1) %>%\n  step_dummy(all_nominal_predictors()) %>%\n  step_zv(all_predictors()) %>%\n  step_normalize(all_predictors())"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#workflow-definition-1",
    "href": "fluanalysis/code/machinelearning.html#workflow-definition-1",
    "title": "Machine Learning",
    "section": "Workflow Definition",
    "text": "Workflow Definition\n\nlr_workflow <- workflow() %>%\n  add_model(lr_mod) %>%\n  add_recipe(lr_recipe)"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#tuning-grid-specification-1",
    "href": "fluanalysis/code/machinelearning.html#tuning-grid-specification-1",
    "title": "Machine Learning",
    "section": "Tuning Grid Specification",
    "text": "Tuning Grid Specification\n\nlr_reg_grid <- tibble(penalty = 30^seq(-40, -1, length.out = 30))\n\nlr_reg_grid %>% top_n(-5)\n\nSelecting by penalty\n\n\n# A tibble: 5 × 1\n   penalty\n     <dbl>\n1 8.23e-60\n2 7.97e-58\n3 7.73e-56\n4 7.49e-54\n5 7.26e-52\n\nlr_reg_grid %>% top_n(5)\n\nSelecting by penalty\n\n\n# A tibble: 5 × 1\n   penalty\n     <dbl>\n1 3.78e-10\n2 3.66e- 8\n3 3.55e- 6\n4 3.44e- 4\n5 3.33e- 2"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#tuning-using-cross-validation-and-tune_grid-1",
    "href": "fluanalysis/code/machinelearning.html#tuning-using-cross-validation-and-tune_grid-1",
    "title": "Machine Learning",
    "section": "Tuning Using Cross-Validation and tune_grid",
    "text": "Tuning Using Cross-Validation and tune_grid\n\nlr_res <- lr_workflow %>%\n  tune_grid(val_set,\n            grid = lr_reg_grid,\n            control = control_grid(save_pred = TRUE),\n            metrics = metric_set(rmse))\nlr_plot <- lr_res %>%\n  collect_metrics() %>%\n  ggplot(aes(x = penalty, y = mean)) +\n  geom_point() +\n  geom_line() +\n  ylab(\"RMSE\") +\n  scale_x_log10(labels = scales::label_number())\nlr_plot\n\n\n\ntop_models <-\n  lr_res %>%\n  show_best(\"rmse\", n = 15) %>%\n  arrange(penalty)\ntop_models\n\n# A tibble: 15 × 7\n    penalty .metric .estimator  mean     n std_err .config              \n      <dbl> <chr>   <chr>      <dbl> <int>   <dbl> <chr>                \n 1 8.23e-60 rmse    standard    1.11     1      NA Preprocessor1_Model01\n 2 7.97e-58 rmse    standard    1.11     1      NA Preprocessor1_Model02\n 3 7.73e-56 rmse    standard    1.11     1      NA Preprocessor1_Model03\n 4 7.49e-54 rmse    standard    1.11     1      NA Preprocessor1_Model04\n 5 7.26e-52 rmse    standard    1.11     1      NA Preprocessor1_Model05\n 6 7.04e-50 rmse    standard    1.11     1      NA Preprocessor1_Model06\n 7 6.82e-48 rmse    standard    1.11     1      NA Preprocessor1_Model07\n 8 6.61e-46 rmse    standard    1.11     1      NA Preprocessor1_Model08\n 9 6.41e-44 rmse    standard    1.11     1      NA Preprocessor1_Model09\n10 6.21e-42 rmse    standard    1.11     1      NA Preprocessor1_Model10\n11 6.02e-40 rmse    standard    1.11     1      NA Preprocessor1_Model11\n12 5.84e-38 rmse    standard    1.11     1      NA Preprocessor1_Model12\n13 5.66e-36 rmse    standard    1.11     1      NA Preprocessor1_Model13\n14 5.49e-34 rmse    standard    1.11     1      NA Preprocessor1_Model14\n15 3.33e- 2 rmse    standard    1.10     1      NA Preprocessor1_Model30\n\nlr_best <- \n  lr_res %>%\n  collect_metrics() %>%\n  arrange(penalty) %>%\n  slice(12)\n\nlr_rmse <-\n  lr_res %>%\n  collect_predictions(parameters = lr_best) %>%\n  rmse(BodyTemp, .pred) %>%\n  mutate(model = \"Linear Regression\")"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#model-specification-2",
    "href": "fluanalysis/code/machinelearning.html#model-specification-2",
    "title": "Machine Learning",
    "section": "Model Specification",
    "text": "Model Specification\n\ncores <- parallel::detectCores()\ncores\n\n[1] 20\n\nrf_mod <-\n  rand_forest(mtry = tune(), min_n = tune(), trees = 1000) %>%\n  set_engine(\"ranger\", num.threads = cores) %>%\n  set_mode(\"regression\")\n\nrf_recipe <- \n  recipe(BodyTemp ~ . , data = flu_train1) %>%\n  step_dummy(all_predictors()) %>%\n  prep(training = flu_train1)"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#workflow-definition-2",
    "href": "fluanalysis/code/machinelearning.html#workflow-definition-2",
    "title": "Machine Learning",
    "section": "Workflow Definition",
    "text": "Workflow Definition\n\nrf_workflow <-\n  workflow() %>%\n  add_model(rf_mod) %>%\n  add_recipe(rf_recipe)"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#tuning-grid-specification-2",
    "href": "fluanalysis/code/machinelearning.html#tuning-grid-specification-2",
    "title": "Machine Learning",
    "section": "Tuning Grid Specification",
    "text": "Tuning Grid Specification\n\nrf_mod\n\nRandom Forest Model Specification (regression)\n\nMain Arguments:\n  mtry = tune()\n  trees = 1000\n  min_n = tune()\n\nEngine-Specific Arguments:\n  num.threads = cores\n\nComputational engine: ranger \n\nextract_parameter_set_dials(rf_mod)\n\nCollection of 2 parameters for tuning\n\n identifier  type    object\n       mtry  mtry nparam[?]\n      min_n min_n nparam[+]\n\nModel parameters needing finalization:\n   # Randomly Selected Predictors ('mtry')\n\nSee `?dials::finalize` or `?dials::update.parameters` for more information.\n\nset.seed(345)\nrf_res <- rf_workflow %>%\n  tune_grid(val_set,\n            grid = 25,\n            control = control_grid(save_pred = TRUE),\n            metrics = metric_set(rmse))\n\ni Creating pre-processing data to finalize unknown parameter: mtry"
  },
  {
    "objectID": "fluanalysis/code/machinelearning.html#tuning-using-cross-validation-and-the-tune_grid",
    "href": "fluanalysis/code/machinelearning.html#tuning-using-cross-validation-and-the-tune_grid",
    "title": "Machine Learning",
    "section": "Tuning Using Cross-Validation and the Tune_Grid()",
    "text": "Tuning Using Cross-Validation and the Tune_Grid()\n\nrf_res %>%\n  show_best(metric = \"rmse\")\n\n# A tibble: 5 × 8\n   mtry min_n .metric .estimator  mean     n std_err .config              \n  <int> <int> <chr>   <chr>      <dbl> <int>   <dbl> <chr>                \n1     5    35 rmse    standard    1.09     1      NA Preprocessor1_Model12\n2     3    31 rmse    standard    1.09     1      NA Preprocessor1_Model15\n3     1    38 rmse    standard    1.09     1      NA Preprocessor1_Model07\n4    20    36 rmse    standard    1.09     1      NA Preprocessor1_Model18\n5    26    39 rmse    standard    1.09     1      NA Preprocessor1_Model23\n\nautoplot(rf_res)\n\n\n\nrf_best <-\n  rf_res %>%\n  select_best(metric = \"rmse\")\nrf_best\n\n# A tibble: 1 × 3\n   mtry min_n .config              \n  <int> <int> <chr>                \n1     5    35 Preprocessor1_Model12\n\nrf_res %>%\n  collect_predictions()\n\n# A tibble: 5,550 × 7\n   id         .pred  .row  mtry min_n BodyTemp .config              \n   <chr>      <dbl> <int> <int> <int>    <dbl> <chr>                \n 1 validation  99.1     2    14     7    100.  Preprocessor1_Model01\n 2 validation 100.     11    14     7     98.2 Preprocessor1_Model01\n 3 validation  98.3    14    14     7    102.  Preprocessor1_Model01\n 4 validation  98.7    19    14     7     98.5 Preprocessor1_Model01\n 5 validation  99.3    20    14     7     98.2 Preprocessor1_Model01\n 6 validation  99.8    26    14     7    100   Preprocessor1_Model01\n 7 validation  99.4    27    14     7     99.5 Preprocessor1_Model01\n 8 validation  99.2    28    14     7    101.  Preprocessor1_Model01\n 9 validation  99.0    29    14     7     99.7 Preprocessor1_Model01\n10 validation  99.4    30    14     7     98.9 Preprocessor1_Model01\n# ℹ 5,540 more rows\n\nrf_rmse <- \n  rf_res %>%\n  collect_predictions(parameters = rf_best) %>%\n  rmse(BodyTemp, .pred) %>%\n  mutate(model = \"Random Forest\")\n\n\n\n# Last Mod\n\nlast_rf_mod <-\n  rand_forest(mtry = 8, min_n = 7, trees = 1000) %>%\n  set_engine(\"ranger\", num.threads = cores, importance = \"impurity\") %>%\n  set_mode(\"regression\")\n\nlast_rf_workflow <-\n  rf_workflow %>%\n  update_model(last_rf_mod)\n\nset.seed(345)\nlast_rf_fit <-\n  last_rf_workflow %>%\n  last_fit(split)\n\nlast_rf_fit\n\n# Resampling results\n# Manual resampling \n# A tibble: 1 × 6\n  splits            id               .metrics .notes   .predictions .workflow \n  <list>            <chr>            <list>   <list>   <list>       <list>    \n1 <split [508/222]> train/test split <tibble> <tibble> <tibble>     <workflow>\n\nlast_rf_fit %>%\n  collect_metrics()\n\n# A tibble: 2 × 4\n  .metric .estimator .estimate .config             \n  <chr>   <chr>          <dbl> <chr>               \n1 rmse    standard     1.22    Preprocessor1_Model1\n2 rsq     standard     0.00440 Preprocessor1_Model1\n\nlast_rf_fit %>%\n  extract_fit_parsnip() %>%\n  vip::vip(num_features = 20)\n\n\n\nfor_plot <- last_rf_fit %>%\n  collect_predictions() %>%\n  rmse(BodyTemp, .pred)"
  },
  {
    "objectID": "tidytuesday_exercise2.html",
    "href": "tidytuesday_exercise2.html",
    "title": "Tidy Tuesday Exercise",
    "section": "",
    "text": "To be fillled…\n\n# To be completed..."
  }
]